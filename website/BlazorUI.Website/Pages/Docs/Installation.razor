@page "/docs/installation"

<PageTitle>Installation - BlazorUI</PageTitle>

<div class="container py-8 md:py-12 px-4">
    <div class="mx-auto max-w-4xl">
        <div class="space-y-4 mb-8">
            <h1 class="text-4xl font-bold tracking-tight">Installation</h1>
            <p class="text-xl text-muted-foreground">
                How to install and configure BlazorUI in your Blazor application.
            </p>
        </div>

        <Separator class="my-8" />

        <div class="space-y-6">
            <h2 class="text-2xl font-bold">Prerequisites</h2>
            <ul class="space-y-2 list-disc list-inside">
                <li>.NET 8 SDK or later</li>
                <li>A Blazor project (Server, WebAssembly, or Hybrid)</li>
                <li>Basic knowledge of Blazor and C#</li>
            </ul>

            <h2 class="text-2xl font-bold">Step 1: Install NuGet Packages</h2>
            <p>Install the BlazorUI packages via NuGet Package Manager or the .NET CLI:</p>

            <div class="not-prose my-4">
                <Card>
                    <CardHeader>
                        <CardTitle>Install via .NET CLI</CardTitle>
                    </CardHeader>
                    <CardContent>
                        <div class="rounded-md bg-muted p-4 font-mono text-sm">
                            <div class="mb-2"># Install Primitives (unstyled components)</div>
                            <div class="mb-4">dotnet add package BlazorUI.Primitives</div>

                            <div class="mb-2"># Install Components (styled components)</div>
                            <div class="mb-4">dotnet add package BlazorUI.Components</div>

                            <div class="mb-2"># Optional: Install Icons</div>
                            <div>dotnet add package BlazorUI.Icons.Lucide</div>
                        </div>
                    </CardContent>
                </Card>
            </div>

            <h2 class="text-2xl font-bold">Step 2: Configure Services</h2>
            <p>Add BlazorUI services to your <code>Program.cs</code>:</p>

            <div class="not-prose my-4">
                <Card>
                    <CardHeader>
                        <CardTitle>Program.cs</CardTitle>
                    </CardHeader>
                    <CardContent>
                        <div class="rounded-md bg-muted p-4 font-mono text-sm overflow-x-auto">
                            <pre class="text-xs">using BlazorUI.Primitives.Extensions;

var builder = WebApplication.CreateBuilder(args);

// Add services to the container.
builder.Services.AddRazorComponents()
    .AddInteractiveServerComponents();

// Add BlazorUI.Primitives services
builder.Services.AddBlazorUIPrimitives();

var app = builder.Build();

// Configure the HTTP request pipeline...
app.Run();</pre>
                        </div>
                    </CardContent>
                </Card>
            </div>

            <h2 class="text-2xl font-bold">Step 3: Install Tailwind CSS</h2>
            <p>BlazorUI components are styled with Tailwind CSS. You need to set up Tailwind in your project:</p>

            <h3 class="text-xl font-semibold">3.1 Install Tailwind CSS CLI</h3>
            <p>Download the Tailwind CSS standalone CLI for your platform from the <a href="https://tailwindcss.com/blog/standalone-cli" target="_blank" rel="noopener noreferrer">official Tailwind website</a>.</p>

            <h3 class="text-xl font-semibold">3.2 Create Tailwind Configuration</h3>
            <p>Create a <code>tailwind.config.js</code> file in your project root:</p>

            <div class="not-prose my-4">
                <Card>
                    <CardHeader>
                        <CardTitle>tailwind.config.js</CardTitle>
                    </CardHeader>
                    <CardContent>
                        <div class="rounded-md bg-muted p-4 font-mono text-sm overflow-x-auto">
                            <pre class="text-xs">module.exports = {
  darkMode: ["class"],
  content: [
    './Pages/**/*.{razor,html,cs}',
    './Shared/**/*.{razor,html,cs}',
    './Components/**/*.{razor,html,cs}',
  ],
  theme: {
    extend: {
      colors: {
        border: "var(--border)",
        input: "var(--input)",
        ring: "var(--ring)",
        background: "var(--background)",
        foreground: "var(--foreground)",
        primary: {
          DEFAULT: "var(--primary)",
          foreground: "var(--primary-foreground)",
        },
        // ... add other color variables
      },
    },
  },
}</pre>
                        </div>
                    </CardContent>
                </Card>
            </div>

            <h3 class="text-xl font-semibold">3.3 Create CSS Input File</h3>
            <p>Create <code>wwwroot/css/app-input.css</code>:</p>

            <div class="not-prose my-4">
                <Card>
                    <CardHeader>
                        <CardTitle>wwwroot/css/app-input.css</CardTitle>
                    </CardHeader>
                    <CardContent>
                        <div class="rounded-md bg-muted p-4 font-mono text-sm overflow-x-auto">
                            <pre class="text-xs">@@tailwind base;
@@tailwind components;
@@tailwind utilities;

@@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    /* ... add other CSS variables */
  }
}</pre>
                        </div>
                    </CardContent>
                </Card>
            </div>

            <h3 class="text-xl font-semibold">3.4 Build Tailwind CSS</h3>
            <p>Add a build step to your project file to compile Tailwind CSS:</p>

            <div class="not-prose my-4">
                <Card>
                    <CardHeader>
                        <CardTitle>.csproj</CardTitle>
                    </CardHeader>
                    <CardContent>
                        <div class="rounded-md bg-muted p-4 font-mono text-sm overflow-x-auto">
                            <pre class="text-xs">&lt;Target Name="BuildTailwindCSS" BeforeTargets="BeforeBuild"&gt;
  &lt;Message Text="Building Tailwind CSS..." Importance="high" /&gt;
  &lt;Exec Command="tailwindcss -i wwwroot/css/app-input.css -o wwwroot/css/app.css" /&gt;
&lt;/Target&gt;</pre>
                        </div>
                    </CardContent>
                </Card>
            </div>

            <h2 class="text-2xl font-bold">Step 4: Add Component Imports</h2>
            <p>Add using directives to your <code>_Imports.razor</code>:</p>

            <div class="not-prose my-4">
                <Card>
                    <CardHeader>
                        <CardTitle>_Imports.razor</CardTitle>
                    </CardHeader>
                    <CardContent>
                        <div class="rounded-md bg-muted p-4 font-mono text-sm overflow-x-auto">
                            <pre class="text-xs">@@using BlazorUI.Components.Components
@@using BlazorUI.Primitives.Primitives
@@using BlazorUI.Icons.Lucide.Components
@@using BlazorUI.Icons.Lucide.Data</pre>
                        </div>
                    </CardContent>
                </Card>
            </div>

            <h2 class="text-2xl font-bold">Step 5: Add PortalHost to Layout</h2>
            <p>Add the <code>&lt;PortalHost /&gt;</code> component to your root layout file. This is <strong>required</strong> for components that use portals (Popover, Dialog, Sheet, Dropdown Menu, Combobox, Select, etc.).</p>

            <div class="not-prose my-4">
                <Card>
                    <CardHeader>
                        <CardTitle>MainLayout.razor (or your root layout)</CardTitle>
                    </CardHeader>
                    <CardContent>
                        <div class="rounded-md bg-muted p-4 font-mono text-sm overflow-x-auto">
                            <pre class="text-xs">@@inherits LayoutComponentBase
@@using BlazorUI.Primitives.Services

&lt;div class="page"&gt;
    &lt;main&gt;
        @@Body
    &lt;/main&gt;
&lt;/div&gt;

&lt;!-- Required for portal-based components --&gt;
&lt;PortalHost /&gt;</pre>
                        </div>
                    </CardContent>
                </Card>
            </div>

            <div class="rounded-md border border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950 p-4 my-4">
                <div class="flex items-start gap-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-600 dark:text-blue-400 mt-0.5 shrink-0">
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 16v-4"></path>
                        <path d="M12 8h.01"></path>
                    </svg>
                    <div class="text-sm">
                        <strong class="font-semibold">Important:</strong> Without <code>&lt;PortalHost /&gt;</code>, components like Popover, Dialog, Combobox, and Select will not render their dropdown/overlay content properly. Make sure to add it to your root layout file.
                    </div>
                </div>
            </div>

            <h2 class="text-2xl font-bold">Step 6: Include Stylesheet</h2>
            <p>Add the compiled CSS to your <code>App.razor</code> or <code>index.html</code>:</p>

            <div class="not-prose my-4">
                <Card>
                    <CardHeader>
                        <CardTitle>App.razor</CardTitle>
                    </CardHeader>
                    <CardContent>
                        <div class="rounded-md bg-muted p-4 font-mono text-sm overflow-x-auto">
                            <pre class="text-xs">&lt;link rel="stylesheet" href="css/app.css" /&gt;</pre>
                        </div>
                    </CardContent>
                </Card>
            </div>

            <h2 class="text-2xl font-bold">You're All Set!</h2>
            <p>
                You're now ready to start using BlazorUI components in your application.
                Check out the <a href="/docs/getting-started">Getting Started</a> guide to learn how to use components,
                or browse the <a href="/components">Components</a> to see what's available.
            </p>

            <div class="flex gap-3 mt-6">
                <Button Variant="ButtonVariant.Default" OnClick="@(() => NavigationManager.NavigateTo("/docs/getting-started"))">
                    Getting Started Guide
                </Button>
                <Button Variant="ButtonVariant.Outline" OnClick="@(() => NavigationManager.NavigateTo("/components"))">
                    Browse Components
                </Button>
            </div>
        </div>
    </div>
</div>

@code {
    [Inject] private NavigationManager NavigationManager { get; set; } = default!;
}
