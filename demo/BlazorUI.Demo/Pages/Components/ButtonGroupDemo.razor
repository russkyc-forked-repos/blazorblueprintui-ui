@page "/components/button-group"
@using BlazorUI.Primitives.Services
@using BlazorUI.Components.ButtonGroup
@using BlazorUI.Components.Button
@using BlazorUI.Components.DropdownMenu
@using BlazorUI.Components.Popover
@using BlazorUI.Components.Separator
@using BlazorUI.Components.Select
@using BlazorUI.Components.Input
@using BlazorUI.Icons.Lucide.Components

<PageTitle>Button Group - BlazorUI</PageTitle>

<div class="space-y-10 max-w-4xl">
    <div class="space-y-3">
        <h1 class="text-4xl font-bold tracking-tight">Button Group</h1>
        <p class="text-xl text-muted-foreground">
            Visually group related buttons together with connected styling.
        </p>
    </div>

    <!-- Basic Horizontal Groups -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Basic Horizontal Groups</h2>
            <p class="text-muted-foreground">
                Group related buttons together horizontally with connected borders.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Simple Group -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Simple Button Group</h3>
                <ButtonGroup>
                    <Button Variant="ButtonVariant.Outline">Archive</Button>
                    <Button Variant="ButtonVariant.Outline">Report</Button>
                    <Button Variant="ButtonVariant.Outline">Delete</Button>
                </ButtonGroup>
            </div>

            <!-- With Icons -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">With Icons</h3>
                <ButtonGroup>
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="align-left" Size="16" />
                        Left
                    </Button>
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="align-center" Size="16" />
                        Center
                    </Button>
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="align-right" Size="16" />
                        Right
                    </Button>
                </ButtonGroup>
            </div>

            <!-- Icon Only -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Icon Only</h3>
                <ButtonGroup>
                    <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Bold">
                        <LucideIcon Name="bold" Size="16" />
                    </Button>
                    <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Italic">
                        <LucideIcon Name="italic" Size="16" />
                    </Button>
                    <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Underline">
                        <LucideIcon Name="underline" Size="16" />
                    </Button>
                </ButtonGroup>
            </div>

            <!-- Different Variants -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Secondary Variant</h3>
                <ButtonGroup>
                    <Button Variant="ButtonVariant.Secondary">Year</Button>
                    <Button Variant="ButtonVariant.Secondary">Month</Button>
                    <Button Variant="ButtonVariant.Secondary">Week</Button>
                    <Button Variant="ButtonVariant.Secondary">Day</Button>
                </ButtonGroup>
            </div>
        </div>
    </section>

    <!-- Vertical Groups -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Vertical Groups</h2>
            <p class="text-muted-foreground">
                Stack buttons vertically for sidebar-style navigation.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Vertical Navigation -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Vertical Navigation</h3>
                <ButtonGroup Orientation="ButtonGroupOrientation.Vertical">
                    <Button Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="house" Size="16" />
                        Home
                    </Button>
                    <Button Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="user" Size="16" />
                        Profile
                    </Button>
                    <Button Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="settings" Size="16" />
                        Settings
                    </Button>
                    <Button Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="log-out" Size="16" />
                        Logout
                    </Button>
                </ButtonGroup>
            </div>
        </div>
    </section>

    <!-- With Separator -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">With Separators</h2>
            <p class="text-muted-foreground">
                Add visual dividers between button sections using ButtonGroupSeparator.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Horizontal with Separator -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Horizontal with Separator</h3>
                <ButtonGroup>
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="copy" Size="16" />
                        Copy
                    </Button>
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="clipboard-paste" Size="16" />
                        Paste
                    </Button>
                    <ButtonGroupSeparator />
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="undo" Size="16" />
                        Undo
                    </Button>
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="redo" Size="16" />
                        Redo
                    </Button>
                </ButtonGroup>
            </div>

            <!-- Vertical with Separator -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Vertical with Separator</h3>
                <ButtonGroup Orientation="ButtonGroupOrientation.Vertical">
                    <Button Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="file" Size="16" />
                        New File
                    </Button>
                    <Button Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="folder" Size="16" />
                        New Folder
                    </Button>
                    <ButtonGroupSeparator Orientation="SeparatorOrientation.Horizontal" />
                    <Button Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="download" Size="16" />
                        Download
                    </Button>
                    <Button Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="upload" Size="16" />
                        Upload
                    </Button>
                </ButtonGroup>
            </div>
        </div>
    </section>

    <!-- With Text Labels -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">With Text Labels</h2>
            <p class="text-muted-foreground">
                Add text labels using ButtonGroupText for better context.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Text Label Example -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Labeled Actions</h3>
                <ButtonGroup>
                    <ButtonGroupText>
                        <LucideIcon Name="file-text" Size="16" />
                        Document Actions:
                    </ButtonGroupText>
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="eye" Size="16" />
                        View
                    </Button>
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="pencil" Size="16" />
                        Edit
                    </Button>
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="trash-2" Size="16" />
                        Delete
                    </Button>
                </ButtonGroup>
            </div>
        </div>
    </section>

    <!-- Nested Button Groups -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Nested Button Groups</h2>
            <p class="text-muted-foreground">
                Group button groups together with automatic spacing.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Email Actions Example (similar to Shadcn) -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Email Actions Toolbar</h3>
                <ButtonGroup>
                    <ButtonGroup Class="hidden sm:flex">
                        <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Go Back">
                            <LucideIcon Name="arrow-left" Size="16" />
                        </Button>
                    </ButtonGroup>
                    <ButtonGroup>
                        <Button Variant="ButtonVariant.Outline">Archive</Button>
                        <Button Variant="ButtonVariant.Outline">Report</Button>
                    </ButtonGroup>
                    <ButtonGroup>
                        <Button Variant="ButtonVariant.Outline">Snooze</Button>
                        <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="More Options">
                            <LucideIcon Name="ellipsis" Size="16" />
                        </Button>
                    </ButtonGroup>
                </ButtonGroup>
            </div>
        </div>
    </section>

    <!-- Complex Example with Dropdown -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Complex Integration</h2>
            <p class="text-muted-foreground">
                Combine ButtonGroup with other components like Dropdown Menus.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Email Toolbar with Dropdown -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Email Actions Toolbar with Dropdown</h3>
                <ButtonGroup>
                    <ButtonGroup Class="hidden sm:flex">
                        <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Go Back">
                            <LucideIcon Name="arrow-left" Size="16" />
                        </Button>
                    </ButtonGroup>
                    <ButtonGroup>
                        <Button Variant="ButtonVariant.Outline">Archive</Button>
                        <Button Variant="ButtonVariant.Outline">Report</Button>
                    </ButtonGroup>
                    <ButtonGroup>
                        <Button Variant="ButtonVariant.Outline">Snooze</Button>
                        <DropdownMenu>
                            <DropdownMenuTrigger Class="inline-flex items-center justify-center gap-2 !rounded-l-none !rounded-r-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none border border-input border-l-0 bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10 cursor-pointer" aria-label="More Options">
                                <LucideIcon Name="ellipsis" Size="16" />
                            </DropdownMenuTrigger>
                            <DropdownMenuContent Align="@PopoverAlign.End" Class="w-52">
                                <DropdownMenuGroup>
                                    <DropdownMenuItem>
                                        <LucideIcon Name="mail-check" Size="16" Class="mr-1" />
                                        Mark as Read
                                    </DropdownMenuItem>
                                    <DropdownMenuItem>
                                        <LucideIcon Name="archive" Size="16" Class="mr-1" />
                                        Archive
                                    </DropdownMenuItem>
                                </DropdownMenuGroup>
                                <DropdownMenuSeparator />
                                <DropdownMenuGroup>
                                    <DropdownMenuItem>
                                        <LucideIcon Name="clock" Size="16" Class="mr-1" />
                                        Snooze
                                    </DropdownMenuItem>
                                    <DropdownMenuItem>
                                        <LucideIcon Name="calendar-plus" Size="16" Class="mr-1" />
                                        Add to Calendar
                                    </DropdownMenuItem>
                                    <DropdownMenuItem>
                                        <LucideIcon Name="list-plus" Size="16" Class="mr-1" />
                                        Add to List
                                    </DropdownMenuItem>
                                </DropdownMenuGroup>
                                <DropdownMenuSeparator />
                                <DropdownMenuGroup>
                                    <DropdownMenuItem Class="text-destructive focus:text-destructive">
                                        <LucideIcon Name="trash-2" Size="16" Class="mr-1" />
                                        Trash
                                    </DropdownMenuItem>
                                </DropdownMenuGroup>
                            </DropdownMenuContent>
                        </DropdownMenu>
                    </ButtonGroup>
                </ButtonGroup>
            </div>
        </div>
    </section>

    <!-- Button Group with Popover -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Button Group with Popover</h2>
            <p class="text-muted-foreground">
                Integrate Popover components with ButtonGroup for rich interactive UIs.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Copilot Agent Tasks Example -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Agent Tasks Popover</h3>
                <ButtonGroup>
                    <Button Variant="ButtonVariant.Outline">
                        <LucideIcon Name="bot" Size="16" />
                        Copilot
                    </Button>
                    <Popover>
                        <PopoverTrigger>
                            <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" Class="!rounded-l-none" AriaLabel="Open Popover">
                                <LucideIcon Name="chevron-down" Size="16" />
                            </Button>
                        </PopoverTrigger>
                        <PopoverContent Align="@PopoverAlign.End" Class="rounded-xl p-0 text-sm w-80">
                            <div class="px-3 py-2">
                                <div class="text-sm font-medium">Agent Tasks</div>
                            </div>
                            <Separator />
                            <div class="p-3 text-sm space-y-2">
                                <textarea
                                    placeholder="Describe your task in natural language."
                                    rows="2"
                                    class="flex min-h-[60px] w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none"></textarea>
                                <p class="font-medium text-sm">Start a new task with Copilot</p>
                                <p class="text-muted-foreground text-xs leading-relaxed">
                                    Describe your task in natural language. Copilot will work in the
                                    background and open a pull request for your review.
                                </p>
                            </div>
                        </PopoverContent>
                    </Popover>
                </ButtonGroup>
            </div>
        </div>
    </section>

    <!-- Button Group with Select -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Button Group with Select</h2>
            <p class="text-muted-foreground">
                Combine Select dropdowns with Input and Button components for rich form controls.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Currency Converter Example -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Currency Converter</h3>
                <ButtonGroup>
                    <ButtonGroup>
                        <Select @bind-Value="selectedCurrency" TValue="string">
                            <SelectTrigger Class="font-mono w-[70px] !gap-1 px-2 !rounded-r-none">
                                <SelectValue Placeholder="$" />
                            </SelectTrigger>
                            <SelectContent Class="min-w-36">
                                <SelectItem Value="@("$")" Text="$ US Dollar" TValue="string">
                                    <span class="font-mono">$</span> <span class="text-muted-foreground">US Dollar</span>
                                </SelectItem>
                                <SelectItem Value="@("€")" Text="€ Euro" TValue="string">
                                    <span class="font-mono">€</span> <span class="text-muted-foreground">Euro</span>
                                </SelectItem>
                                <SelectItem Value="@("£")" Text="£ British Pound" TValue="string">
                                    <span class="font-mono">£</span> <span class="text-muted-foreground">British Pound</span>
                                </SelectItem>
                            </SelectContent>
                        </Select>
                        <Input Type="InputType.Text" Placeholder="10.00" Class="!rounded-l-none !border-l-0 !focus-visible:ring-1 !focus-visible:ring-offset-0" />
                    </ButtonGroup>
                    <ButtonGroup>
                        <Button Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Send">
                            <LucideIcon Name="arrow-right" Size="16" />
                        </Button>
                    </ButtonGroup>
                </ButtonGroup>
            </div>
        </div>
    </section>

    <!-- Usage Notes -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Usage Notes</h2>
        </div>

        <div class="rounded-lg border p-6 space-y-4">
            <div class="space-y-3">
                <h3 class="font-semibold">Key Features</h3>
                <ul class="space-y-2 text-sm text-muted-foreground list-disc list-inside">
                    <li>Buttons are visually connected with shared borders</li>
                    <li>Rounded corners only appear on the outer edges</li>
                    <li>Focus states are properly managed with z-index</li>
                    <li>Supports both horizontal and vertical orientations</li>
                    <li>Can nest button groups for complex layouts</li>
                    <li>Integrates with ButtonGroupText for labels</li>
                    <li>Integrates with ButtonGroupSeparator for dividers</li>
                    <li>Works seamlessly with DropdownMenu and Popover components</li>
                    <li>Works with all button variants and sizes</li>
                </ul>
            </div>

            <div class="space-y-3">
                <h3 class="font-semibold">Accessibility</h3>
                <ul class="space-y-2 text-sm text-muted-foreground list-disc list-inside">
                    <li>Uses proper role="group" for screen readers</li>
                    <li>Icon-only buttons should have aria-label attributes</li>
                    <li>Keyboard navigation works naturally (Tab/Shift+Tab)</li>
                    <li>Focus states are clearly visible</li>
                </ul>
            </div>
        </div>
    </section>
</div>

@code {
    private string? selectedCurrency = "$";
}
