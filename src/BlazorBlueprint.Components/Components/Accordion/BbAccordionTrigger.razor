@namespace BlazorBlueprint.Components

@*
    Styled AccordionTrigger component.
    Wraps the AccordionTrigger primitive with shadcn/ui styling.
*@

<BlazorBlueprint.Primitives.Accordion.BbAccordionTrigger As="@As" Class="@CssClass">
    <div class="flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline">
        @ChildContent
        <svg class="h-4 w-4 shrink-0 transition-transform duration-200 data-[state=open]:rotate-180"
             data-state="@(Item?.IsOpen == true ? "open" : "closed")"
             xmlns="http://www.w3.org/2000/svg"
             width="24"
             height="24"
             viewBox="0 0 24 24"
             fill="none"
             stroke="currentColor"
             stroke-width="2"
             stroke-linecap="round"
             stroke-linejoin="round">
            <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
    </div>
</BlazorBlueprint.Primitives.Accordion.BbAccordionTrigger>

@code {
    /// <summary>
    /// Cascading parameter to receive the parent accordion item for state access.
    /// </summary>
    [CascadingParameter]
    public BlazorBlueprint.Primitives.Accordion.BbAccordionItem? Item { get; set; }

    /// <summary>
    /// The child content to render within the trigger.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Additional CSS classes to apply to the trigger.
    /// </summary>
    [Parameter]
    public string? Class { get; set; }

    /// <summary>
    /// The HTML element tag to use for the heading wrapper.
    /// Default is "h3".
    /// </summary>
    [Parameter]
    public string As { get; set; } = "h3";

    /// <summary>
    /// Gets the computed CSS classes for the accordion trigger.
    /// Uses the cn() utility for intelligent class merging and Tailwind conflict resolution.
    /// </summary>
    private string CssClass => ClassNames.cn(
        "flex w-full items-center justify-between text-sm font-medium transition-all",
        Class
    );
}
