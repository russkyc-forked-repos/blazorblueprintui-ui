@namespace BlazorBlueprint.Components

@*
    Main Sidebar component that renders as a Sheet on mobile and a sidebar on desktop.
    Provides the container for all sidebar content.
*@

@if (Context != null)
{
    @if (Context.IsMobile)
    {
        @* Mobile: Render as Sheet *@
        <BbSheet Open="@MobileOpen" OpenChanged="@(value => MobileOpen = value)" Side="@GetSheetSide()">
            <BbSheetContent Class="@GetMobileClasses()" ShowClose="false">
                @ChildContent
            </BbSheetContent>
        </BbSheet>
    }
    else
    {
        @* Desktop: Render as sidebar *@
        <aside class="@GetDesktopClasses()" @attributes="AdditionalAttributes" data-state="@GetDataState()" data-collapsible="@(Collapsible ? (!Context.Open ? "icon" : "none") : "none")" data-variant="@Context.Variant.ToString().ToLowerInvariant()" data-side="@Context.Side.ToString().ToLowerInvariant()">
            @ChildContent
        </aside>
    }
}
