@namespace BlazorBlueprint.Components
@inherits FormFieldBase

<BbField Orientation="@EffectiveOrientation" IsInvalid="@IsInvalid" Class="@Class">
    @if (Label is not null && Orientation is FieldOrientation.Vertical)
    {
        <BbFieldLabel For="@ControlId">@Label</BbFieldLabel>
    }
    <BbFieldContent>
        @if (Orientation is FieldOrientation.HorizontalEnd or FieldOrientation.Horizontal)
        {
            <div class="flex items-center gap-2">
                @if (Orientation is FieldOrientation.Horizontal && Label is not null)
                {
                    <BbFieldLabel For="@ControlId">@Label</BbFieldLabel>
                }
                <BbCheckbox Id="@ControlId"
                          Checked="@Checked"
                          CheckedChanged="HandleCheckedChanged"
                          CheckedExpression="@CheckedExpression"
                          Indeterminate="@Indeterminate"
                          IndeterminateChanged="@IndeterminateChanged"
                          Disabled="@Disabled"
                          AriaLabel="@AriaLabel"
                          AriaDescribedBy="@DescribedById"
                          Class="@InputClass" />
                @if (Orientation is FieldOrientation.HorizontalEnd && Label is not null)
                {
                    <BbFieldLabel For="@ControlId">@Label</BbFieldLabel>
                }
            </div>
        }
        else
        {
            <BbCheckbox Id="@ControlId"
                      Checked="@Checked"
                      CheckedChanged="HandleCheckedChanged"
                      CheckedExpression="@CheckedExpression"
                      Indeterminate="@Indeterminate"
                      IndeterminateChanged="@IndeterminateChanged"
                      Disabled="@Disabled"
                      AriaLabel="@AriaLabel"
                      AriaDescribedBy="@DescribedById"
                      Class="@InputClass" />
            @if (Label is not null && Orientation is FieldOrientation.VerticalEnd)
            {
                <BbFieldLabel For="@ControlId">@Label</BbFieldLabel>
            }
        }
        @if (!string.IsNullOrEmpty(HelperText) && !IsInvalid)
        {
            <BbFieldDescription Id="@DescriptionId">@HelperText</BbFieldDescription>
        }
        @if (IsInvalid && !string.IsNullOrEmpty(ErrorText))
        {
            <BbFieldError Id="@ErrorId">@ErrorText</BbFieldError>
        }
        else if (HasEditContextErrors)
        {
            <BbFieldError Id="@ErrorId" Errors="@EditContextErrors" />
        }
    </BbFieldContent>
</BbField>
