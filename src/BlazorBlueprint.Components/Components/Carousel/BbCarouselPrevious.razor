@namespace BlazorBlueprint.Components
@using BlazorBlueprint.Icons.Lucide.Components

<button type="button"
        class="@CssClass"
        disabled="@(!Context?.CanGoPrevious)"
        @onclick="HandleClick"
        aria-label="Previous slide">
    <LucideIcon Name="arrow-left" Class="h-4 w-4" />
    <span class="sr-only">Previous slide</span>
</button>

@code {
    [CascadingParameter]
    public BbCarousel? Context { get; set; }

    [Parameter]
    public string? Class { get; set; }

    private void HandleClick()
    {
        Context?.Previous();
    }

    private string PositionClass => Context?.Orientation == CarouselOrientation.Horizontal
        ? "-left-12 top-1/2 -translate-y-1/2"
        : "-top-12 left-1/2 -translate-x-1/2 rotate-90";

    private string CssClass => ClassNames.cn(
        "absolute h-8 w-8 rounded-full",
        "inline-flex items-center justify-center",
        "border bg-background shadow-sm",
        "hover:bg-accent hover:text-accent-foreground",
        "disabled:pointer-events-none disabled:opacity-50",
        PositionClass,
        Class
    );
}
