@namespace BlazorBlueprint.Components
@implements IDisposable

<div role="group" aria-roledescription="slide" class="@CssClass">
    @ChildContent
</div>

@code {
    [CascadingParameter]
    public BbCarousel? Context { get; set; }

    [Parameter]
    public string? Class { get; set; }

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    protected override void OnInitialized()
    {
        Context?.RegisterItem();
    }

    public void Dispose()
    {
        Context?.UnregisterItem();
    }

    private string CssClass => ClassNames.cn(
        "min-w-0 shrink-0 grow-0 basis-full",
        Context?.Orientation == CarouselOrientation.Horizontal ? "pl-4" : "pt-4",
        Class
    );
}
