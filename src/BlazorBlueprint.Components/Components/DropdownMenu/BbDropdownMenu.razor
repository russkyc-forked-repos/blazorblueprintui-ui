@namespace BlazorBlueprint.Components

@* Styled DropdownMenu component - thin wrapper around DropdownMenu primitive *@
<BlazorBlueprint.Primitives.DropdownMenu.BbDropdownMenu Open="@Open"
                                                      OpenChanged="@OpenChanged"
                                                      DefaultOpen="@DefaultOpen"
                                                      OnOpenChange="@OnOpenChange"
                                                      Modal="@Modal"
                                                      Dir="@Dir"
                                                      ItemClass="@ItemClass">
    @ChildContent
</BlazorBlueprint.Primitives.DropdownMenu.BbDropdownMenu>

@code {
    /// <summary>
    /// The child content to render within the dropdown menu.
    /// Typically includes DropdownMenuTrigger and DropdownMenuContent.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Controls whether the dropdown menu is open (controlled mode).
    /// When null, the dropdown menu manages its own state (uncontrolled mode).
    /// </summary>
    [Parameter]
    public bool? Open { get; set; }

    /// <summary>
    /// Event callback invoked when the open state changes.
    /// Use with @bind-Open for two-way binding.
    /// </summary>
    [Parameter]
    public EventCallback<bool> OpenChanged { get; set; }

    /// <summary>
    /// Default open state when in uncontrolled mode.
    /// </summary>
    [Parameter]
    public bool DefaultOpen { get; set; } = false;

    /// <summary>
    /// Event callback invoked when the dropdown menu open state changes.
    /// </summary>
    [Parameter]
    public EventCallback<bool> OnOpenChange { get; set; }

    /// <summary>
    /// Whether the dropdown menu can be dismissed by clicking outside or pressing Escape.
    /// Default is true.
    /// </summary>
    [Parameter]
    public bool Modal { get; set; } = true;

    /// <summary>
    /// Direction for the menu content layout ("ltr" or "rtl").
    /// Default is "ltr".
    /// </summary>
    [Parameter]
    public string Dir { get; set; } = "ltr";

    /// <summary>
    /// Default CSS classes to apply to all DropdownMenuItem children.
    /// Cascaded via the context so items can merge it with their own classes.
    /// </summary>
    [Parameter]
    public string? ItemClass { get; set; }
}
