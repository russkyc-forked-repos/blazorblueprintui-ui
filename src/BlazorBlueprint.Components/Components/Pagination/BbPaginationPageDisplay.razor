@namespace BlazorBlueprint.Components

<div class="@CssClass">
    @if (Context?.State != null)
    {
        var state = Context.State;
        <span>@string.Format(Format, state.CurrentPage, state.TotalPages)</span>
    }
    else
    {
        @ChildContent
    }
</div>

@code {
    [CascadingParameter]
    private PaginationContext? Context { get; set; }

    [Parameter]
    public string? Class { get; set; }

    /// <summary>
    /// Format string for displaying page info. Use {0} for current page, {1} for total pages.
    /// Default: "Page {0} of {1}"
    /// </summary>
    [Parameter]
    public string Format { get; set; } = "Page {0} of {1}";

    /// <summary>
    /// Custom content to display when not using pagination state.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    private string CssClass => ClassNames.cn(
        "flex w-[100px] items-center justify-center text-sm font-medium",
        Class
    );
}
