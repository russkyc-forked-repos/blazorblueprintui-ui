@namespace BlazorBlueprint.Components
@using Microsoft.AspNetCore.Components.Routing

@*
    Navigation Menu Link - a navigation link within the menu.
*@

<NavLink href="@Href"
         class="@CssClass"
         Match="@Match"
         ActiveClass="@ActiveCssClass"
         role="menuitem"
         tabindex="-1"
         @attributes="AdditionalAttributes">
    @ChildContent
</NavLink>

@code {
    /// <summary>
    /// The URL the link navigates to.
    /// </summary>
    [Parameter]
    public string? Href { get; set; }

    /// <summary>
    /// The content of the link.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// How to match the URL for active state.
    /// </summary>
    [Parameter]
    public NavLinkMatch Match { get; set; } = NavLinkMatch.Prefix;

    /// <summary>
    /// Additional CSS classes to apply to the link.
    /// </summary>
    [Parameter]
    public string? Class { get; set; }

    /// <summary>
    /// Additional attributes to apply to the link.
    /// </summary>
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }

    /// <summary>
    /// Gets the computed CSS classes for the link.
    /// </summary>
    private string CssClass => ClassNames.cn(
        "group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium",
        "transition-colors hover:bg-accent hover:text-accent-foreground",
        "focus:bg-accent focus:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
        "disabled:pointer-events-none disabled:opacity-50",
        Class
    );

    /// <summary>
    /// Gets the CSS class for active state.
    /// </summary>
    private string ActiveCssClass => "bg-accent/50";
}
