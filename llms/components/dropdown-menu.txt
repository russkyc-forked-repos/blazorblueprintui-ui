# Dropdown Menu Component

Context menu with items, separators, keyboard shortcuts, and nested submenus.

---

## Overview

The DropdownMenu component displays context menus with items, separators, keyboard shortcuts, checkable items, radio groups, and nested submenus.

**Features:**
- Menu items with icons
- Checkable items
- Radio groups
- Keyboard shortcuts display
- Nested submenus
- Separators
- Portal rendering
- Keyboard navigation
- ARIA attributes

---

## Package

- **Package:** BlazorUI.Components
- **Namespace:** BlazorUI.Components.DropdownMenu
- **Source:** https://github.com/blazorui-net/ui/tree/main/src/BlazorUI.Components/Components/DropdownMenu

**Note:** Requires `<PortalHost />` in your layout.

---

## API Reference

### Main Components

- `<DropdownMenu>` - Container
- `<DropdownMenuTrigger>` - Opens menu
- `<DropdownMenuContent>` - Menu panel
- `<DropdownMenuItem>` - Menu item
- `<DropdownMenuSeparator>` - Divider
- `<DropdownMenuLabel>` - Section label
- `<DropdownMenuCheckboxItem>` - Checkable item
- `<DropdownMenuRadioGroup>` - Radio group
- `<DropdownMenuRadioItem>` - Radio item
- `<DropdownMenuSub>` - Submenu

### `<DropdownMenuCheckboxItem>`

A menu item with a checkbox that can be toggled.

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `Checked` | `bool` | `false` | Whether the checkbox is checked |
| `CheckedChanged` | `EventCallback<bool>` | - | Callback when checked state changes |
| `Disabled` | `bool` | `false` | Whether the item is disabled |
| `CloseOnSelect` | `bool` | `false` | Whether to close the menu when toggled |
| `Class` | `string?` | `null` | Additional CSS classes |
| `ChildContent` | `RenderFragment?` | - | Item content |

---

## Basic Usage

```razor
<DropdownMenu>
    <DropdownMenuTrigger AsChild>
        <Button Variant="ButtonVariant.Outline">
            Open Menu
        </Button>
    </DropdownMenuTrigger>
    <DropdownMenuContent>
        <DropdownMenuItem>
            <LucideIcon Name="edit" Size="16" />
            Edit
        </DropdownMenuItem>
        <DropdownMenuItem>
            <LucideIcon Name="copy" Size="16" />
            Duplicate
        </DropdownMenuItem>
        <DropdownMenuSeparator />
        <DropdownMenuItem>
            <LucideIcon Name="trash" Size="16" />
            Delete
        </DropdownMenuItem>
    </DropdownMenuContent>
</DropdownMenu>
```

---

## AsChild Pattern

Use `AsChild` on `DropdownMenuTrigger` to use your own element (like a styled Button) as the trigger instead of the default `<button>`:

```razor
<DropdownMenu>
    <DropdownMenuTrigger AsChild>
        <Button Variant="ButtonVariant.Ghost" Size="ButtonSize.Icon">
            <LucideIcon Name="more-vertical" Size="16" />
        </Button>
    </DropdownMenuTrigger>
    <DropdownMenuContent>
        <DropdownMenuItem>Edit</DropdownMenuItem>
        <DropdownMenuItem>Delete</DropdownMenuItem>
    </DropdownMenuContent>
</DropdownMenu>
```

**Note:** When `AsChild` is true, the child component (Button) automatically receives trigger behavior via `TriggerContext` including click handling, aria-haspopup, aria-expanded, and keyboard navigation.

---

## Examples

### Example 1: Checkbox Items

```razor
<DropdownMenu>
    <DropdownMenuTrigger AsChild>
        <Button Variant="ButtonVariant.Outline">
            View Options
        </Button>
    </DropdownMenuTrigger>
    <DropdownMenuContent>
        <DropdownMenuLabel>Display Settings</DropdownMenuLabel>
        <DropdownMenuSeparator />
        <DropdownMenuCheckboxItem @bind-Checked="_showStatusBar">
            Status Bar
        </DropdownMenuCheckboxItem>
        <DropdownMenuCheckboxItem @bind-Checked="_showLineNumbers">
            Line Numbers
        </DropdownMenuCheckboxItem>
        <DropdownMenuCheckboxItem @bind-Checked="_wordWrap" Disabled="true">
            Word Wrap
        </DropdownMenuCheckboxItem>
    </DropdownMenuContent>
</DropdownMenu>

@code {
    private bool _showStatusBar = true;
    private bool _showLineNumbers = true;
    private bool _wordWrap = false;
}
```

See **llms/patterns.txt** - Data Table with Sorting and Pagination for more examples.

---

## Functional Keyboard Shortcuts

The `<DropdownMenuShortcut>` component displays keyboard shortcuts visually, but to make them actually work, use the `IKeyboardShortcutService`:

```razor
@inject IKeyboardShortcutService KeyboardShortcuts
@implements IAsyncDisposable

<DropdownMenu>
    <DropdownMenuTrigger AsChild>
        <Button>File</Button>
    </DropdownMenuTrigger>
    <DropdownMenuContent>
        <DropdownMenuItem OnClick="HandleSave">
            Save
            <DropdownMenuShortcut>Ctrl+S</DropdownMenuShortcut>
        </DropdownMenuItem>
    </DropdownMenuContent>
</DropdownMenu>

@code {
    private IDisposable? _shortcut;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            _shortcut = await KeyboardShortcuts.RegisterAsync("Ctrl+S", HandleSaveAsync);
        }
    }

    private void HandleSave() => _ = HandleSaveAsync();
    private Task HandleSaveAsync() => Task.CompletedTask;

    public ValueTask DisposeAsync()
    {
        _shortcut?.Dispose();
        return ValueTask.CompletedTask;
    }
}
```

For full documentation, see: **llms/components/keyboard-shortcut-service.txt**

---

## Related Components

- **Button** - llms/components/button.txt
- **Popover** - llms/components/popover.txt
- **Keyboard Shortcut Service** - llms/components/keyboard-shortcut-service.txt

---

**Last Updated:** 2026-01-24
