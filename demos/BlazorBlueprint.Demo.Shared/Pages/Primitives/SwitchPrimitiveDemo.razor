@page "/primitives/switch"
<PageTitle>Switch Primitive - Blazor Blueprint</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
            <h1 class="text-4xl font-bold tracking-tight">Switch Primitive</h1>
            <p class="text-xl text-muted-foreground">
                Headless, unstyled switch primitive with full accessibility support.
            </p>
        </div>
    </div>

    <div class="space-y-6">
        <section class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">Basic Headless Primitive</h2>
                <p class="text-muted-foreground">
                    The primitive provides behavior and accessibility without styling. Add minimal structural styling.
                </p>
            </div>

            <div class="rounded-lg border bg-card p-6 max-w-md">
                <div class="flex items-center gap-3">
                    <BlazorBlueprint.Primitives.Switch.BbSwitch @bind-Checked="basicChecked"
                                     Id="basic"
                                     class="relative inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-input transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted">
                        <BlazorBlueprint.Primitives.Switch.BbSwitchThumb
                            class="pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0" />
                    </BlazorBlueprint.Primitives.Switch.BbSwitch>
                    <label for="basic" class="cursor-pointer">Basic primitive switch</label>
                </div>
                <p class="text-sm text-muted-foreground mt-2">State: @(basicChecked ? "On" : "Off")</p>
            </div>

            <CodeBlock Source="Primitives/Switch/basic.txt" />
        </section>

        <section class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">Controlled State</h2>
                <p class="text-muted-foreground">
                    Control the primitive state externally with buttons.
                </p>
            </div>

            <div class="space-y-4">
                <div class="flex gap-2">
                    <button @onclick="@(() => controlledChecked = true)"
                            class="px-3 py-2 border rounded text-sm">
                        Turn On
                    </button>
                    <button @onclick="@(() => controlledChecked = false)"
                            class="px-3 py-2 border rounded text-sm">
                        Turn Off
                    </button>
                </div>

                <div class="rounded-lg border bg-card p-6 max-w-md">
                    <div class="flex items-center gap-3">
                        <BlazorBlueprint.Primitives.Switch.BbSwitch @bind-Checked="controlledChecked" Id="controlled"
                                         class="relative inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-input transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted">
                            <BlazorBlueprint.Primitives.Switch.BbSwitchThumb
                                class="pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0" />
                        </BlazorBlueprint.Primitives.Switch.BbSwitch>
                        <label for="controlled" class="cursor-pointer">
                            Controlled Switch (State: @(controlledChecked ? "On" : "Off"))
                        </label>
                    </div>
                </div>

                <CodeBlock Source="Primitives/Switch/controlled.txt" />
            </div>
        </section>

        <section class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">Disabled State</h2>
                <p class="text-muted-foreground">
                    Switches can be disabled to prevent interaction.
                </p>
            </div>

            <div class="rounded-lg border bg-card p-6 max-w-md space-y-3">
                <div class="flex items-center gap-3">
                    <BlazorBlueprint.Primitives.Switch.BbSwitch Checked="true" Disabled="true" Id="disabled-on"
                                     class="relative inline-flex h-6 w-11 shrink-0 items-center rounded-full border-2 border-input transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted disabled:opacity-50 disabled:cursor-not-allowed">
                        <BlazorBlueprint.Primitives.Switch.BbSwitchThumb
                            class="pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0" />
                    </BlazorBlueprint.Primitives.Switch.BbSwitch>
                    <label for="disabled-on" class="opacity-50">Disabled (On)</label>
                </div>
                <div class="flex items-center gap-3">
                    <BlazorBlueprint.Primitives.Switch.BbSwitch Checked="false" Disabled="true" Id="disabled-off"
                                     class="relative inline-flex h-6 w-11 shrink-0 items-center rounded-full border-2 border-input transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-muted disabled:opacity-50 disabled:cursor-not-allowed">
                        <BlazorBlueprint.Primitives.Switch.BbSwitchThumb
                            class="pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0" />
                    </BlazorBlueprint.Primitives.Switch.BbSwitch>
                    <label for="disabled-off" class="opacity-50">Disabled (Off)</label>
                </div>
            </div>

            <CodeBlock Source="Primitives/Switch/disabled.txt" />
        </section>

        <AccessibilityList>
            <AriaAttributes>
                <AccessibilityItem>
                    <code class="text-xs bg-muted px-1 py-0.5 rounded">role="switch"</code> for screen readers
                </AccessibilityItem>
                <AccessibilityItem>
                    <code class="text-xs bg-muted px-1 py-0.5 rounded">aria-checked</code> indicates checked state (true/false)
                </AccessibilityItem>
                <AccessibilityItem>
                    <code class="text-xs bg-muted px-1 py-0.5 rounded">aria-disabled</code> indicates disabled state
                </AccessibilityItem>
                <AccessibilityItem>
                    <code class="text-xs bg-muted px-1 py-0.5 rounded">data-state</code> attribute for CSS styling (checked|unchecked)
                </AccessibilityItem>
                <AccessibilityItem>
                    <code class="text-xs bg-muted px-1 py-0.5 rounded">disabled</code> attribute for disabled state
                </AccessibilityItem>
                <AccessibilityItem>
                    Focus management with visible focus indicators
                </AccessibilityItem>
            </AriaAttributes>
            <KeyboardNavigation>
                <KeyboardShortcutItem Description="Navigate to switch">
                    <BbKbd>Tab</BbKbd>
                </KeyboardShortcutItem>
                <KeyboardShortcutItem Description="Toggle switch">
                    <BbKbd>Space</BbKbd>
                </KeyboardShortcutItem>
                <KeyboardShortcutItem Description="Toggle switch">
                    <BbKbd>Enter</BbKbd>
                </KeyboardShortcutItem>
            </KeyboardNavigation>
        </AccessibilityList>

        <section class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">API Reference</h2>
                <p class="text-muted-foreground">
                    Component properties and parameters.
                </p>
            </div>

            <div class="space-y-4">
                <ApiReference ComponentName="Switch">
                    <ApiParameter Name="Checked" Type="bool" Default="false">
                        Controls whether the switch is on (checked). Supports two-way binding with <code>@@bind-Checked</code>.
                    </ApiParameter>
                    <ApiParameter Name="CheckedChanged" Type="EventCallback&lt;bool&gt;">
                        Callback invoked when the checked state changes.
                    </ApiParameter>
                    <ApiParameter Name="Disabled" Type="bool" Default="false">
                        Prevents toggling when true. Sets <code>aria-disabled</code> and <code>disabled</code> attributes.
                    </ApiParameter>
                    <ApiParameter Name="ChildContent" Type="RenderFragment?">
                        Content rendered inside the switch (typically a <code>SwitchThumb</code>).
                    </ApiParameter>
                    <ApiParameter Name="AdditionalAttributes" Type="Dictionary&lt;string, object&gt;?">
                        Additional HTML attributes applied to the root button element (e.g. <code>class</code>, <code>style</code>, <code>Id</code>).
                    </ApiParameter>
                </ApiReference>

                <ApiReference ComponentName="SwitchThumb">
                    <ApiParameter Name="ChildContent" Type="RenderFragment?">
                        Optional content to render inside the thumb.
                    </ApiParameter>
                    <ApiParameter Name="AdditionalAttributes" Type="Dictionary&lt;string, object&gt;?">
                        Additional HTML attributes applied to the span element (e.g. <code>class</code>, <code>style</code>). Auto-applies <code>data-state</code> synced from parent Switch.
                    </ApiParameter>
                </ApiReference>
            </div>
        </section>
    </div>
</div>

@code {
    private bool basicChecked = false;
    private bool controlledChecked = false;
}
