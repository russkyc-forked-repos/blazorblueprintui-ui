@page "/components/field"
@using BlazorBlueprint.Icons.Lucide.Components

<PageTitle>Field - Blazor Blueprint</PageTitle>

<div class="space-y-10 max-w-4xl">
    <div class="space-y-3">
        <h1 class="text-4xl font-bold tracking-tight">Field</h1>
        <p class="text-xl text-muted-foreground">
            Combine labels, controls, and help text to compose accessible form fields.
        </p>
    </div>

    <!-- Which input component? -->
    <div class="rounded-lg border border-dashed bg-muted/30 p-6 space-y-3">
        <h2 class="text-lg font-semibold">Which input component?</h2>
        <div class="space-y-2 text-sm text-muted-foreground">
            <p><strong>Non-text control</strong> (checkbox, radio, switch, select)? &rarr; <strong>Field</strong> (this page)</p>
            <p><strong>Simple string input</strong> with EditForm? &rarr; <a href="/components/input" class="text-primary underline underline-offset-4 hover:text-primary/80">Input</a></p>
            <p><strong>Typed value</strong> with custom error UI or EditForm? &rarr; <a href="/components/input-field" class="text-primary underline underline-offset-4 hover:text-primary/80">InputField&lt;T&gt;</a></p>
            <p><strong>Typed value</strong> and you want it to work out of the box? &rarr; <a href="/components/form-field-input" class="text-primary underline underline-offset-4 hover:text-primary/80">FormFieldInput&lt;T&gt;</a> (also supports EditForm)</p>
        </div>
    </div>

    <!-- Basic Forms -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Basic Forms</h2>
            <p class="text-muted-foreground">
                Simple form fields with labels, inputs, and descriptions using vertical layout (default).
            </p>
        </div>

        <div class="space-y-6">
            <!-- Simple Text Input -->
            <div class="space-y-2">
                <BbField>
                    <BbFieldLabel For="username">Username</BbFieldLabel>
                    <BbFieldContent>
                        <BbInput Id="username" Type="InputType.Text" Placeholder="Enter your username" />
                        <BbFieldDescription>Choose a unique username for your account.</BbFieldDescription>
                    </BbFieldContent>
                </BbField>
            </div>

            <!-- Email Input -->
            <div class="space-y-2">
                <BbField>
                    <BbFieldLabel For="email">Email Address</BbFieldLabel>
                    <BbFieldContent>
                        <BbInput Id="email" Type="InputType.Email" Placeholder="you@example.com" />
                        <BbFieldDescription>We'll never share your email with anyone else.</BbFieldDescription>
                    </BbFieldContent>
                </BbField>
            </div>

            <!-- Password Input -->
            <div class="space-y-2">
                <BbField>
                    <BbFieldLabel For="password">Password</BbFieldLabel>
                    <BbFieldContent>
                        <BbInput Id="password" Type="InputType.Password" />
                        <BbFieldDescription>Must be at least 8 characters long.</BbFieldDescription>
                    </BbFieldContent>
                </BbField>
            </div>

            <!-- Textarea -->
            <div class="space-y-2">
                <BbField>
                    <BbFieldLabel For="bio">Bio</BbFieldLabel>
                    <BbFieldContent>
                        <BbTextarea Id="bio" Placeholder="Tell us about yourself..." />
                        <BbFieldDescription>Brief description for your profile. Maximum 500 characters.</BbFieldDescription>
                    </BbFieldContent>
                </BbField>
            </div>
        </div>

<CodeBlock Source="Components/Field/basic.txt" />
    </section>

    <!-- Validation Examples -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Validation Examples</h2>
            <p class="text-muted-foreground">
                Display error states and validation messages using FieldError.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Single Error -->
            <div class="space-y-2">
                <BbField IsInvalid="true">
                    <BbFieldLabel For="username-error">Username</BbFieldLabel>
                    <BbFieldContent>
                        <BbInput Id="username-error" Type="InputType.Text" Placeholder="Enter your username" Class="border-destructive" />
                        <BbFieldError>
                            Username is already taken. Please choose another.
                        </BbFieldError>
                    </BbFieldContent>
                </BbField>
            </div>

            <!-- Multiple Errors -->
            <div class="space-y-2">
                <BbField IsInvalid="true">
                    <BbFieldLabel For="password-errors">Password</BbFieldLabel>
                    <BbFieldContent>
                        <BbInput Id="password-errors" Type="InputType.Password" Class="border-destructive" />
                        <BbFieldError Errors="passwordErrors" />
                    </BbFieldContent>
                </BbField>
            </div>

            <!-- Invalid Email -->
            <div class="space-y-2">
                <BbField IsInvalid="true">
                    <BbFieldLabel For="email-invalid">Email Address</BbFieldLabel>
                    <BbFieldContent>
                        <BbInput Id="email-invalid" Type="InputType.Email" Value="invalid-email" Class="border-destructive" />
                        <BbFieldError>
                            Please enter a valid email address.
                        </BbFieldError>
                    </BbFieldContent>
                </BbField>
            </div>
        </div>

        <CodeBlock Source="Components/Field/validation.txt" />
    </section>

    <!-- Horizontal Orientation -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Horizontal Orientation</h2>
            <p class="text-muted-foreground">
                Place labels beside controls using horizontal orientation.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Horizontal Text Input -->
            <div class="space-y-2">
                <BbField Orientation="FieldOrientation.Horizontal">
                    <BbFieldLabel For="name-horizontal" Class="w-32 pt-2">Full Name</BbFieldLabel>
                    <BbFieldContent>
                        <BbInput Id="name-horizontal" Type="InputType.Text" Placeholder="John Doe" />
                        <BbFieldDescription>Enter your first and last name.</BbFieldDescription>
                    </BbFieldContent>
                </BbField>
            </div>

            <!-- Horizontal with Checkbox -->
            <div class="space-y-2">
                <BbField Orientation="FieldOrientation.Horizontal">
                    <BbFieldLabel For="terms-horizontal" Class="w-32">Accept Terms</BbFieldLabel>
                    <BbFieldContent>
                        <div class="flex items-center gap-2">
                            <BbCheckbox Id="terms-horizontal" />
                            <BbFieldDescription Class="!mb-0">I agree to the terms and conditions</BbFieldDescription>
                        </div>
                    </BbFieldContent>
                </BbField>
            </div>
        </div>

<CodeBlock Source="Components/Field/horizontal.txt" />
    </section>

    <!-- Responsive Orientation -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Responsive Orientation</h2>
            <p class="text-muted-foreground">
                Automatically switch from vertical to horizontal at medium breakpoint using container queries.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Responsive Layout -->
            <div class="space-y-2">
                <BbField Orientation="FieldOrientation.Responsive">
                    <BbFieldLabel For="company-responsive" Class="w-full md:w-32 md:pt-2">Company</BbFieldLabel>
                    <BbFieldContent>
                        <BbInput Id="company-responsive" Type="InputType.Text" Placeholder="Acme Inc." />
                        <BbFieldDescription>Your company or organization name.</BbFieldDescription>
                    </BbFieldContent>
                </BbField>
            </div>
        </div>

<CodeBlock Source="Components/Field/responsive.txt" />
    </section>

    <!-- Field Groups -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Field Groups</h2>
            <p class="text-muted-foreground">
                Stack multiple fields using FieldGroup for consistent spacing.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Vertical Field Group -->
            <div class="space-y-2">
                <BbFieldGroup Orientation="FieldGroupOrientation.Vertical">
                    <BbField>
                        <BbFieldLabel For="first-name">First Name</BbFieldLabel>
                        <BbFieldContent>
                            <BbInput Id="first-name" Type="InputType.Text" Placeholder="John" />
                        </BbFieldContent>
                    </BbField>
                    <BbField>
                        <BbFieldLabel For="last-name">Last Name</BbFieldLabel>
                        <BbFieldContent>
                            <BbInput Id="last-name" Type="InputType.Text" Placeholder="Doe" />
                        </BbFieldContent>
                    </BbField>
                </BbFieldGroup>
            </div>

            <!-- Horizontal Field Group -->
            <div class="space-y-2">
                <BbFieldGroup Orientation="FieldGroupOrientation.Horizontal">
                    <BbField Class="flex-1">
                        <BbFieldLabel For="city">City</BbFieldLabel>
                        <BbFieldContent>
                            <BbInput Id="city" Type="InputType.Text" Placeholder="New York" />
                        </BbFieldContent>
                    </BbField>
                    <BbField Class="flex-1">
                        <BbFieldLabel For="state">State</BbFieldLabel>
                        <BbFieldContent>
                            <BbInput Id="state" Type="InputType.Text" Placeholder="NY" />
                        </BbFieldContent>
                    </BbField>
                    <BbField Class="w-32">
                        <BbFieldLabel For="zip">ZIP</BbFieldLabel>
                        <BbFieldContent>
                            <BbInput Id="zip" Type="InputType.Text" Placeholder="10001" />
                        </BbFieldContent>
                    </BbField>
                </BbFieldGroup>
            </div>

            <!-- With Separator -->
            <div class="space-y-2">
                <BbFieldGroup Orientation="FieldGroupOrientation.Vertical">
                    <BbField>
                        <BbFieldLabel For="account-name">Account Name</BbFieldLabel>
                        <BbFieldContent>
                            <BbInput Id="account-name" Type="InputType.Text" />
                        </BbFieldContent>
                    </BbField>
                    <BbField>
                        <BbFieldLabel For="account-email">Account Email</BbFieldLabel>
                        <BbFieldContent>
                            <BbInput Id="account-email" Type="InputType.Email" />
                        </BbFieldContent>
                    </BbField>

                    <BbFieldSeparator />

                    <BbField>
                        <BbFieldLabel For="billing-name">Billing Name</BbFieldLabel>
                        <BbFieldContent>
                            <BbInput Id="billing-name" Type="InputType.Text" />
                        </BbFieldContent>
                    </BbField>
                    <BbField>
                        <BbFieldLabel For="billing-address">Billing Address</BbFieldLabel>
                        <BbFieldContent>
                            <BbInput Id="billing-address" Type="InputType.Text" />
                        </BbFieldContent>
                    </BbField>
                </BbFieldGroup>
            </div>
        </div>

<CodeBlock Source="Components/Field/groups.txt" />
    </section>

    <!-- FieldSets -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Complex Fieldsets</h2>
            <p class="text-muted-foreground">
                Use FieldSet and FieldLegend for semantic grouping of related controls.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Basic FieldSet -->
            <div class="space-y-2">
                <BbFieldSet>
                    <BbFieldLegend>Contact Information</BbFieldLegend>
                    <BbFieldGroup>
                        <BbField>
                            <BbFieldLabel For="contact-email">Email</BbFieldLabel>
                            <BbFieldContent>
                                <BbInput Id="contact-email" Type="InputType.Email" />
                            </BbFieldContent>
                        </BbField>
                        <BbField>
                            <BbFieldLabel For="contact-phone">Phone</BbFieldLabel>
                            <BbFieldContent>
                                <BbInput Id="contact-phone" Type="InputType.Tel" />
                            </BbFieldContent>
                        </BbField>
                    </BbFieldGroup>
                </BbFieldSet>
            </div>

            <!-- FieldSet with Radio Group -->
            <div class="space-y-2">
                <BbFieldSet>
                    <BbFieldLegend>How would you like to receive notifications?</BbFieldLegend>
                    <BbRadioGroup @bind-Value="notificationMethod" TValue="string">
                        <BbFieldGroup>
                            <BbField Orientation="FieldOrientation.Horizontal">
                                <div class="flex items-center gap-2">
                                    <BbRadioGroupItem Value="@("email")" Id="notify-email" TValue="string" />
                                    <BbFieldLabel For="notify-email" Class="font-normal">Email</BbFieldLabel>
                                </div>
                            </BbField>
                            <BbField Orientation="FieldOrientation.Horizontal">
                                <div class="flex items-center gap-2">
                                    <BbRadioGroupItem Value="@("sms")" Id="notify-sms" TValue="string" />
                                    <BbFieldLabel For="notify-sms" Class="font-normal">SMS</BbFieldLabel>
                                </div>
                            </BbField>
                            <BbField Orientation="FieldOrientation.Horizontal">
                                <div class="flex items-center gap-2">
                                    <BbRadioGroupItem Value="@("push")" Id="notify-push" TValue="string" />
                                    <BbFieldLabel For="notify-push" Class="font-normal">Push Notifications</BbFieldLabel>
                                </div>
                            </BbField>
                        </BbFieldGroup>
                    </BbRadioGroup>
                    <BbFieldDescription Class="mt-2">We'll send important updates to your preferred channel.</BbFieldDescription>
                </BbFieldSet>
            </div>

            <!-- Complex FieldSet with Multiple Sections -->
            <div class="space-y-2">
                <BbFieldSet>
                    <BbFieldLegend>User Profile</BbFieldLegend>
                    <BbFieldGroup>
                        <BbFieldGroup Orientation="FieldGroupOrientation.Horizontal">
                            <BbField Class="flex-1">
                                <BbFieldLabel For="profile-first">First Name</BbFieldLabel>
                                <BbFieldContent>
                                    <BbInput Id="profile-first" Type="InputType.Text" />
                                </BbFieldContent>
                            </BbField>
                            <BbField Class="flex-1">
                                <BbFieldLabel For="profile-last">Last Name</BbFieldLabel>
                                <BbFieldContent>
                                    <BbInput Id="profile-last" Type="InputType.Text" />
                                </BbFieldContent>
                            </BbField>
                        </BbFieldGroup>

                        <BbField>
                            <BbFieldLabel For="profile-username">Username</BbFieldLabel>
                            <BbFieldContent>
                                <BbInput Id="profile-username" Type="InputType.Text" />
                                <BbFieldDescription>This will be your public display name.</BbFieldDescription>
                            </BbFieldContent>
                        </BbField>

                        <BbFieldSeparator />

                        <BbField>
                            <BbFieldLabel For="profile-bio">Biography</BbFieldLabel>
                            <BbFieldContent>
                                <BbTextarea Id="profile-bio" Placeholder="Tell us about yourself..." />
                                <BbFieldDescription>Brief bio for your profile. Maximum 500 characters.</BbFieldDescription>
                            </BbFieldContent>
                        </BbField>

                        <BbField Orientation="FieldOrientation.Horizontal">
                            <div class="flex items-center gap-2">
                                <BbCheckbox Id="profile-public" />
                                <BbFieldLabel For="profile-public" Class="font-normal">Make profile public</BbFieldLabel>
                            </div>
                        </BbField>
                    </BbFieldGroup>
                </BbFieldSet>
            </div>
        </div>

<CodeBlock Source="Components/Field/fieldsets.txt" />
    </section>

    <!-- Field with Title -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Field with Title</h2>
            <p class="text-muted-foreground">
                Use FieldTitle for headings within FieldContent.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Settings with Title -->
            <div class="space-y-2">
                <BbField>
                    <BbFieldContent>
                        <BbFieldTitle>Email Notifications</BbFieldTitle>
                        <div class="space-y-2">
                            <div class="flex items-center gap-2">
                                <BbCheckbox Id="notify-updates" />
                                <BbFieldLabel For="notify-updates" Class="font-normal">Product updates</BbFieldLabel>
                            </div>
                            <div class="flex items-center gap-2">
                                <BbCheckbox Id="notify-security" />
                                <BbFieldLabel For="notify-security" Class="font-normal">Security alerts</BbFieldLabel>
                            </div>
                            <div class="flex items-center gap-2">
                                <BbCheckbox Id="notify-marketing" />
                                <BbFieldLabel For="notify-marketing" Class="font-normal">Marketing emails</BbFieldLabel>
                            </div>
                        </div>
                        <BbFieldDescription>Choose which emails you want to receive.</BbFieldDescription>
                    </BbFieldContent>
                </BbField>
            </div>
        </div>

<CodeBlock Source="Components/Field/title.txt" />
    </section>

    <AccessibilityList>
        <AriaAttributes>
            <AccessibilityItem>Use FieldLabel with proper 'for' attribute to associate with inputs</AccessibilityItem>
            <AccessibilityItem>FieldDescription should have an ID for aria-describedby</AccessibilityItem>
            <AccessibilityItem>FieldError should have an ID for aria-describedby on invalid inputs</AccessibilityItem>
            <AccessibilityItem>FieldSet provides semantic grouping for related controls</AccessibilityItem>
            <AccessibilityItem>All components render proper semantic HTML elements</AccessibilityItem>
        </AriaAttributes>
    </AccessibilityList>

    <!-- API Reference -->
    <section class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">API Reference</h2>
            <p class="text-muted-foreground">Component properties and parameters.</p>
        </div>
        <div class="space-y-4">
            <ApiReference ComponentName="Field">
                <ApiParameter Name="Orientation" Type="FieldOrientation" Default="Vertical">
                    Layout orientation: Vertical, Horizontal, or Responsive.
                </ApiParameter>
                <ApiParameter Name="IsInvalid" Type="bool" Default="false">
                    When true, cascades invalid state to child inputs automatically.
                </ApiParameter>
            </ApiReference>

            <ApiReference ComponentName="FieldError">
                <ApiParameter Name="Errors" Type="List&lt;string&gt;?">
                    List of error messages to display. Alternatively use ChildContent for a single message.
                </ApiParameter>
            </ApiReference>

            <ApiReference ComponentName="FieldGroup">
                <ApiParameter Name="Orientation" Type="FieldGroupOrientation" Default="Vertical">
                    Layout orientation: Vertical or Horizontal.
                </ApiParameter>
            </ApiReference>
        </div>
    </section>
</div>

@code {
    private List<string> passwordErrors = new()
    {
        "Password must be at least 8 characters long",
        "Password must contain at least one uppercase letter",
        "Password must contain at least one number"
    };

    private string? notificationMethod = "email";
}
