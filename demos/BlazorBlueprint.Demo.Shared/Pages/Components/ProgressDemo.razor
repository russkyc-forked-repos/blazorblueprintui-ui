@page "/components/progress"
<PageTitle>Progress Component - Blazor Blueprint</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
            <h1 class="text-4xl font-bold tracking-tight">Progress Component</h1>
            <p class="text-xl text-muted-foreground">
                Displays an indicator showing the completion progress of a task.
            </p>
        </div>
    </div>

    <!-- Basic Example -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Basic Example</h2>
            <p class="text-sm text-muted-foreground">
                A simple progress bar showing a static value.
            </p>
        </div>
        <BbProgress Value="33" />
        <CodeBlock Source="Components/Progress/basic.txt" />
    </div>

    <!-- Different Values -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Progress States</h2>
            <p class="text-sm text-muted-foreground">
                Progress bars at different completion levels.
            </p>
        </div>
        <div class="space-y-6">
            <div class="space-y-2">
                <div class="flex justify-between text-sm">
                    <span>Empty</span>
                    <span>0%</span>
                </div>
                <BbProgress Value="0" />
            </div>
            <div class="space-y-2">
                <div class="flex justify-between text-sm">
                    <span>Quarter</span>
                    <span>25%</span>
                </div>
                <BbProgress Value="25" />
            </div>
            <div class="space-y-2">
                <div class="flex justify-between text-sm">
                    <span>Half</span>
                    <span>50%</span>
                </div>
                <BbProgress Value="50" />
            </div>
            <div class="space-y-2">
                <div class="flex justify-between text-sm">
                    <span>Three Quarters</span>
                    <span>75%</span>
                </div>
                <BbProgress Value="75" />
            </div>
            <div class="space-y-2">
                <div class="flex justify-between text-sm">
                    <span>Complete</span>
                    <span>100%</span>
                </div>
                <BbProgress Value="100" />
            </div>
        </div>
        <CodeBlock Source="Components/Progress/states.txt" />
    </div>

    <!-- Interactive Example -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Interactive Example</h2>
            <p class="text-sm text-muted-foreground">
                Control the progress value dynamically.
            </p>
        </div>
        <div class="space-y-4">
            <BbProgress Value="@_progressValue" />
            <div class="flex items-center gap-4">
                <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Small" OnClick="@(() => _progressValue = Math.Max(0, _progressValue - 10))">
                    -10
                </BbButton>
                <span class="text-sm font-medium w-12 text-center">@_progressValue%</span>
                <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Small" OnClick="@(() => _progressValue = Math.Min(100, _progressValue + 10))">
                    +10
                </BbButton>
                <BbButton Variant="ButtonVariant.Secondary" Size="ButtonSize.Small" OnClick="@(() => _progressValue = 0)">
                    Reset
                </BbButton>
            </div>
        </div>
        <CodeBlock Source="Components/Progress/interactive.txt" />
    </div>

    <!-- Custom Max Value -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Custom Max Value</h2>
            <p class="text-sm text-muted-foreground">
                Progress bars can have custom maximum values.
            </p>
        </div>
        <div class="space-y-4">
            <div class="space-y-2">
                <div class="flex justify-between text-sm">
                    <span>Downloaded 3 of 10 files</span>
                    <span>30%</span>
                </div>
                <BbProgress Value="3" Max="10" />
            </div>
            <div class="space-y-2">
                <div class="flex justify-between text-sm">
                    <span>Uploaded 750MB of 1000MB</span>
                    <span>75%</span>
                </div>
                <BbProgress Value="750" Max="1000" />
            </div>
        </div>
        <CodeBlock Source="Components/Progress/custom-max.txt" />
    </div>

    <!-- With Label -->
    <div class="space-y-4">
        <div class="space-y-2">
            <div class="flex items-center gap-2">
                <h2 class="text-2xl font-semibold">With Label</h2>
                <span class="inline-flex items-center rounded-full bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary ring-1 ring-inset ring-primary/20">v3</span>
            </div>
            <p class="text-sm text-muted-foreground">
                Use <code class="text-xs bg-muted px-1 py-0.5 rounded">ShowLabel="true"</code> to display a percentage label alongside the progress bar. Customize the format with <code class="text-xs bg-muted px-1 py-0.5 rounded">LabelFormat</code>.
            </p>
        </div>
        <div class="space-y-4">
            <BbProgress Value="60" ShowLabel="true" />
            <BbProgress Value="3" Max="5" ShowLabel="true" LabelFormat="{0}% done" />
            <BbProgress Value="@_progressValue" ShowLabel="true" />
        </div>
        <CodeBlock Source="Components/Progress/label.txt" />
    </div>

    <!-- Custom Styling -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Custom Styling</h2>
            <p class="text-sm text-muted-foreground">
                Override styles with custom classes.
            </p>
        </div>
        <div class="space-y-4">
            <div class="space-y-2">
                <span class="text-sm">Taller progress bar</span>
                <BbProgress Value="60" Class="h-6" />
            </div>
            <div class="space-y-2">
                <span class="text-sm">Custom colors</span>
                <BbProgress Value="80" Class="bg-blue-100 dark:bg-blue-900" IndicatorClass="bg-blue-500" />
            </div>
            <div class="space-y-2">
                <span class="text-sm">Rounded full</span>
                <BbProgress Value="45" Class="h-3 rounded-full" />
            </div>
        </div>
        <CodeBlock Source="Components/Progress/custom-styling.txt" />
    </div>

    <!-- Accessibility -->
    <AccessibilityList>
        <AriaAttributes>
            <AccessibilityItem>
                Uses <code>role="progressbar"</code> to identify the element as a progress indicator to assistive technologies.
            </AccessibilityItem>
            <AccessibilityItem>
                Sets <code>aria-valuenow</code> to the current progress value, <code>aria-valuemin="0"</code>, and <code>aria-valuemax</code> to the configured maximum.
            </AccessibilityItem>
            <AccessibilityItem>
                Progress percentage is visually conveyed via a CSS transform on the indicator, ensuring consistent rendering across browsers.
            </AccessibilityItem>
            <AccessibilityItem>
                When <code>ShowLabel</code> is enabled, a visible text percentage is displayed alongside the bar for additional clarity.
            </AccessibilityItem>
        </AriaAttributes>
    </AccessibilityList>

    <!-- API Reference -->
    <section class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">API Reference</h2>
            <p class="text-muted-foreground">Component properties and parameters.</p>
        </div>
        <div class="space-y-4">
            <ApiReference ComponentName="Progress">
                <ApiParameter Name="Value" Type="double" Default="0">
                    The current progress value.
                </ApiParameter>
                <ApiParameter Name="Max" Type="double" Default="100">
                    The maximum value for the progress bar.
                </ApiParameter>
                <ApiParameter Name="ShowLabel" Type="bool" Default="false">
                    When true, displays a percentage label next to the progress bar.
                </ApiParameter>
                <ApiParameter Name="LabelFormat" Type="string" Default="&quot;{0}%&quot;">
                    Custom format string for the label. <code>{0}</code> is replaced with the integer percentage value.
                </ApiParameter>
                <ApiParameter Name="Class" Type="string?">
                    Additional CSS classes to apply to the progress container.
                </ApiParameter>
                <ApiParameter Name="IndicatorClass" Type="string?">
                    Additional CSS classes to apply to the progress indicator.
                </ApiParameter>
            </ApiReference>
        </div>
    </section>
</div>

@code {
    private double _progressValue = 33;
}
