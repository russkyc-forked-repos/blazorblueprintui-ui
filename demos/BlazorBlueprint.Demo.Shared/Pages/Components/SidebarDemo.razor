@page "/components/sidebar"
@using BlazorBlueprint.Primitives.Services
@using BlazorBlueprint.Icons

<PageTitle>Sidebar Component - Blazor Blueprint</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
        <h1 class="text-4xl font-bold tracking-tight">Sidebar Component</h1>
        <p class="text-xl text-muted-foreground">
            A composable, themeable and customizable sidebar component.
        </p>
        </div>
    </div>

    <div class="space-y-6">
    </div>

    <!-- Features Section -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">Features</h2>
        <ul class="list-disc list-inside space-y-2 text-muted-foreground">
            <li>Responsive design - Sheet overlay on mobile, persistent sidebar on desktop</li>
            <li>Collapsible with icon-only mode</li>
            <li>Three variants: Sidebar (default), Floating, and Inset</li>
            <li>State persistence via cookies</li>
            <li>Keyboard shortcuts (Ctrl/Cmd + B to toggle)</li>
            <li>Automatic tooltips in collapsed state</li>
            <li>Flexible composition with menu groups, submenus, and actions</li>
            <li>Full shadcn/ui compatibility</li>
        </ul>
    </div>

    <!-- Installation Section -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">Installation</h2>
        <div class="bg-muted p-4 rounded-lg">
            <p class="text-sm text-muted-foreground mb-2">The sidebar component requires the Sheet primitive for mobile functionality.</p>
            <p class="text-sm text-muted-foreground">Add the SidebarProvider to your MainLayout.razor to enable sidebar functionality throughout your app.</p>
        </div>
    </div>

    <!-- Collapse Mode Toggle -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">Menu Collapse Mode</h2>
        <div class="flex items-center gap-4 p-4 bg-muted/50 rounded-lg">
            <span class="text-sm font-medium">Collapse Mode:</span>
            <div class="flex items-center gap-2">
                <button
                    @onclick="() => isBasicCollapsible = true"
                    class="@(isBasicCollapsible ? "bg-primary text-primary-foreground" : "bg-background text-foreground") px-3 py-1.5 rounded-md text-sm font-medium transition-colors hover:opacity-90">
                    Shrink (Icon-only)
                </button>
                <button
                    @onclick="() => isBasicCollapsible = false"
                    class="@(!isBasicCollapsible ? "bg-primary text-primary-foreground" : "bg-background text-foreground") px-3 py-1.5 rounded-md text-sm font-medium transition-colors hover:opacity-90">
                    Hide Completely
                </button>
            </div>
            <span class="text-xs text-muted-foreground ml-auto">Click the trigger button to see the difference</span>
        </div>
    </div>

    <!-- Basic Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">Basic Sidebar</h2>
        <p class="text-muted-foreground">A simple sidebar with menu items.</p>

        <!-- Collapse Mode Toggle -->
       

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider CookieKey="sidebar:demo-basic" HeightClass="h-full">
                    <div class="flex h-full w-full">
                        <BbSidebar Collapsible="@isBasicCollapsible">
                            <BbSidebarHeader>
                                <BbSidebarHeaderContent>
                                    <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                        <LucideIcon Name="command" Size="16" />
                                    </div>
                                    <BbSidebarHeaderInfo>
                                        <span class="truncate font-semibold">Acme Inc</span>
                                        <span class="truncate text-xs text-muted-foreground">Enterprise</span>
                                    </BbSidebarHeaderInfo>
                                </BbSidebarHeaderContent>
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Home">
                                            <LucideIcon Name="house" Size="16" />
                                            <span>Home</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Inbox" IsActive="true">
                                            <LucideIcon Name="inbox" Size="16" />
                                            <span>Inbox</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Calendar">
                                            <LucideIcon Name="calendar" Size="16" />
                                            <span>Calendar</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Search">
                                            <LucideIcon Name="search" Size="16" />
                                            <span>Search</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Settings">
                                            <LucideIcon Name="settings" Size="16" />
                                            <span>Settings</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarContent>

                            <BbSidebarFooter>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="User Profile">
                                            <LucideIcon Name="user" Size="16" />
                                            <span>John Doe</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarFooter>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <h1 class="text-lg font-semibold">Dashboard</h1>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="grid auto-rows-min gap-4 md:grid-cols-3">
                                    <div class="aspect-video rounded-xl bg-muted/50"></div>
                                    <div class="aspect-video rounded-xl bg-muted/50"></div>
                                    <div class="aspect-video rounded-xl bg-muted/50"></div>
                                </div>
                                <div class="min-h-[100vh] flex-1 rounded-xl bg-muted/50 md:min-h-min"></div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/basic.txt" />
    </div>

    <!-- With Navigation Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">With Navigation</h2>
        <p class="text-muted-foreground">Menu items that navigate to different pages using Href property.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider CookieKey="sidebar:demo-navigation" HeightClass="h-full">
                    <div class="flex h-full w-full">
                        <BbSidebar Collapsible="@isBasicCollapsible">
                            <BbSidebarHeader>
                                <BbSidebarHeaderContent>
                                    <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                        <LucideIcon Name="compass" Size="16" />
                                    </div>
                                    <BbSidebarHeaderInfo>
                                        <span class="truncate font-semibold">BlazorBlueprint Demo</span>
                                        <span class="truncate text-xs text-muted-foreground">Components</span>
                                    </BbSidebarHeaderInfo>
                                </BbSidebarHeaderContent>
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Href="/" Match="NavLinkMatch.All" Tooltip="Home">
                                            <LucideIcon Name="house" Size="16" />
                                            <span>Home</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Href="/components/sidebar" Match="NavLinkMatch.All" Tooltip="Sidebar">
                                            <LucideIcon Name="panel-left" Size="16" />
                                            <span>Sidebar</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Href="/primitives" Match="NavLinkMatch.Prefix" Tooltip="Primitives">
                                            <LucideIcon Name="box" Size="16" />
                                            <span>Primitives</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Href="/components" Match="NavLinkMatch.Prefix" Tooltip="Components">
                                            <LucideIcon Name="layers" Size="16" />
                                            <span>Components</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarContent>

                            <BbSidebarFooter>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="GitHub">
                                            <LucideIcon Name="github" Size="16" />
                                            <span>View on GitHub</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarFooter>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <h1 class="text-lg font-semibold">Navigation Demo</h1>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="rounded-xl bg-muted/50 p-4 space-y-3">
                                    <p class="text-sm text-muted-foreground">
                                        This demo shows menu buttons that navigate using the <code class="bg-muted px-1.5 py-0.5 rounded">Href</code> property.
                                    </p>
                                    <div class="text-sm">
                                        <p class="font-semibold mb-2">Key Features:</p>
                                        <ul class="list-disc list-inside space-y-1 text-muted-foreground ml-2">
                                            <li>Automatic NavLink rendering when Href is provided</li>
                                            <li>Active state detection based on current route</li>
                                            <li>Match parameter controls how URLs are matched (All or Prefix)</li>
                                            <li>No need to set AsChild - it's automatic!</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/with-navigation.txt" />
    </div>

    <!-- With Groups Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">With Menu Groups</h2>
        <p class="text-muted-foreground">Organize menu items into logical groups.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider CookieKey="sidebar:demo-groups" HeightClass="h-full">
                    <div class="flex h-full w-full">
                        <BbSidebar Collapsible="@isBasicCollapsible">
                            <BbSidebarHeader>
                                <BbSidebarHeaderContent>
                                    <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                        <LucideIcon Name="layers" Size="16" />
                                    </div>
                                    <BbSidebarHeaderInfo>
                                        <span class="truncate font-semibold">My Application</span>
                                        <span class="truncate text-xs text-muted-foreground">v1.0.0</span>
                                    </BbSidebarHeaderInfo>
                                </BbSidebarHeaderContent>
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarGroup>
                                    <BbSidebarGroupLabel>Platform</BbSidebarGroupLabel>
                                    <BbSidebarGroupContent>
                                        <BbSidebarMenu>
                                            <BbSidebarMenuItem>
                                                <BbSidebarMenuButton Tooltip="Dashboard">
                                                    <LucideIcon Name="layout-dashboard" Size="16" />
                                                    <span>Dashboard</span>
                                                </BbSidebarMenuButton>
                                            </BbSidebarMenuItem>
                                            <BbSidebarMenuItem>
                                                <BbSidebarMenuButton Tooltip="Projects" IsActive="true">
                                                    <LucideIcon Name="folder" Size="16" />
                                                    <span>Projects</span>
                                                </BbSidebarMenuButton>
                                            </BbSidebarMenuItem>
                                            <BbSidebarMenuItem>
                                                <BbSidebarMenuButton Tooltip="Tasks">
                                                    <LucideIcon Name="square-check" Size="16" />
                                                    <span>Tasks</span>
                                                </BbSidebarMenuButton>
                                            </BbSidebarMenuItem>
                                        </BbSidebarMenu>
                                    </BbSidebarGroupContent>
                                </BbSidebarGroup>

                                <BbSidebarSeparator />

                                <BbSidebarGroup>
                                    <BbSidebarGroupLabel>Settings</BbSidebarGroupLabel>
                                    <BbSidebarGroupContent>
                                        <BbSidebarMenu>
                                            <BbSidebarMenuItem>
                                                <BbSidebarMenuButton Tooltip="Profile">
                                                    <LucideIcon Name="user" Size="16" />
                                                    <span>Profile</span>
                                                </BbSidebarMenuButton>
                                            </BbSidebarMenuItem>
                                            <BbSidebarMenuItem>
                                                <BbSidebarMenuButton Tooltip="Preferences">
                                                    <LucideIcon Name="settings" Size="16" />
                                                    <span>Preferences</span>
                                                </BbSidebarMenuButton>
                                            </BbSidebarMenuItem>
                                        </BbSidebarMenu>
                                    </BbSidebarGroupContent>
                                </BbSidebarGroup>
                            </BbSidebarContent>

                            <BbSidebarFooter>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Help">
                                            <LucideIcon Name="life-buoy" Size="16" />
                                            <span>Help & Support</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarFooter>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <h1 class="text-lg font-semibold">Projects</h1>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="rounded-xl bg-muted/50 p-4">
                                    <p class="text-sm text-muted-foreground">This example shows menu groups with separators.</p>
                                </div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/with-groups.txt" />
    </div>

    <!-- With Submenus Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">With Submenus</h2>
        <p class="text-muted-foreground">Nested navigation with submenu items.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider CookieKey="sidebar:demo-submenus" HeightClass="h-full">
                    <div class="flex h-full w-full">
                        <BbSidebar Collapsible="@isBasicCollapsible">
                            <BbSidebarHeader>
                                <BbSidebarHeaderContent>
                                    <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                        <LucideIcon Name="building" Size="16" />
                                    </div>
                                    <BbSidebarHeaderInfo>
                                        <span class="truncate font-semibold">Company Portal</span>
                                    </BbSidebarHeaderInfo>
                                </BbSidebarHeaderContent>
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Home">
                                            <LucideIcon Name="house" Size="16" />
                                            <span>Home</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>

                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Team">
                                            <LucideIcon Name="users" Size="16" />
                                            <span>Team</span>
                                        </BbSidebarMenuButton>
                                        <BbSidebarMenuSub>
                                            <BbSidebarMenuSubItem>
                                                <BbSidebarMenuSubButton>
                                                    <span>Engineering</span>
                                                </BbSidebarMenuSubButton>
                                            </BbSidebarMenuSubItem>
                                            <BbSidebarMenuSubItem>
                                                <BbSidebarMenuSubButton>
                                                    <span>Design</span>
                                                </BbSidebarMenuSubButton>
                                            </BbSidebarMenuSubItem>
                                            <BbSidebarMenuSubItem>
                                                <BbSidebarMenuSubButton>
                                                    <span>Marketing</span>
                                                </BbSidebarMenuSubButton>
                                            </BbSidebarMenuSubItem>
                                        </BbSidebarMenuSub>
                                    </BbSidebarMenuItem>

                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Projects">
                                            <LucideIcon Name="folder" Size="16" />
                                            <span>Projects</span>
                                        </BbSidebarMenuButton>
                                        <BbSidebarMenuSub>
                                            <BbSidebarMenuSubItem>
                                                <BbSidebarMenuSubButton>
                                                    <span>Project Alpha</span>
                                                </BbSidebarMenuSubButton>
                                            </BbSidebarMenuSubItem>
                                            <BbSidebarMenuSubItem>
                                                <BbSidebarMenuSubButton>
                                                    <span>Project Beta</span>
                                                </BbSidebarMenuSubButton>
                                            </BbSidebarMenuSubItem>
                                        </BbSidebarMenuSub>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarContent>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <h1 class="text-lg font-semibold">Team Portal</h1>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="rounded-xl bg-muted/50 p-4">
                                    <p class="text-sm text-muted-foreground">Click on Team or Projects to see submenu items.</p>
                                </div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/with-submenus.txt" />
    </div>

    <!-- Floating Variant Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">Floating Variant</h2>
        <p class="text-muted-foreground">Sidebar with floating appearance and rounded corners.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="relative h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider Variant="SidebarVariant.Floating" CookieKey="sidebar:demo-floating" HeightClass="h-full">
                    <div class="flex h-full w-full relative">
                        <BbSidebar Collapsible="@isBasicCollapsible" Class="!absolute !top-2 !bottom-2 !left-2 !right-2 !z-50">
                            <BbSidebarHeader>
                                <BbSidebarHeaderContent>
                                    <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                        <LucideIcon Name="zap" Size="16" />
                                    </div>
                                    <BbSidebarHeaderInfo>
                                        <span class="truncate font-semibold">Floating UI</span>
                                    </BbSidebarHeaderInfo>
                                </BbSidebarHeaderContent>
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Dashboard">
                                            <LucideIcon Name="layout-dashboard" Size="16" />
                                            <span>Dashboard</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Analytics">
                                            <LucideIcon Name="line-chart" Size="16" />
                                            <span>Analytics</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Reports">
                                            <LucideIcon Name="file-text" Size="16" />
                                            <span>Reports</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarContent>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <h1 class="text-lg font-semibold">Floating Sidebar</h1>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="rounded-xl bg-muted/50 p-4">
                                    <p class="text-sm text-muted-foreground">The floating variant adds visual separation with rounded corners.</p>
                                </div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/floating.txt" />
    </div>

    <!-- Inset Variant Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">Inset Variant</h2>
        <p class="text-muted-foreground">Sidebar with inset content area.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-sidebar">
                <BbSidebarProvider Variant="SidebarVariant.Inset" CookieKey="sidebar:demo-inset" HeightClass="h-full">
                    <div class="flex h-full w-full">
                        <BbSidebar Collapsible="@isBasicCollapsible">
                            <BbSidebarHeader>
                                <BbSidebarHeaderContent>
                                    <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                        <LucideIcon Name="box" Size="16" />
                                    </div>
                                    <BbSidebarHeaderInfo>
                                        <span class="truncate font-semibold">Inset Layout</span>
                                    </BbSidebarHeaderInfo>
                                </BbSidebarHeaderContent>
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Overview">
                                            <LucideIcon Name="eye" Size="16" />
                                            <span>Overview</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Workspace">
                                            <LucideIcon Name="briefcase" Size="16" />
                                            <span>Workspace</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarContent>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <h1 class="text-lg font-semibold">Inset Sidebar</h1>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="rounded-xl bg-muted/50 p-4">
                                    <p class="text-sm text-muted-foreground">The inset variant creates a contained layout with margins.</p>
                                </div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/inset.txt" />
    </div>

    <!-- Collapsible to Icons Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">Collapsible to Icons</h2>
        <p class="text-muted-foreground">Sidebar that collapses to show only icons with tooltips.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider DefaultOpen="false" HeightClass="h-full">
                    <div class="flex h-full w-full">
                        <BbSidebar Collapsible="@isBasicCollapsible">
                            <BbSidebarHeader>
                                <BbSidebarHeaderContent>
                                    <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                        <LucideIcon Name="command" Size="16" />
                                    </div>
                                    <BbSidebarHeaderInfo>
                                        <span class="truncate font-semibold">Icon Mode</span>
                                        <span class="truncate text-xs text-muted-foreground">Collapsed</span>
                                    </BbSidebarHeaderInfo>
                                </BbSidebarHeaderContent>
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Dashboard">
                                            <LucideIcon Name="layout-dashboard" Size="16" />
                                            <span>Dashboard</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Projects" IsActive="true">
                                            <LucideIcon Name="folder" Size="16" />
                                            <span>Projects</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Calendar">
                                            <LucideIcon Name="calendar" Size="16" />
                                            <span>Calendar</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Messages">
                                            <LucideIcon Name="mail" Size="16" />
                                            <span>Messages</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Settings">
                                            <LucideIcon Name="settings" Size="16" />
                                            <span>Settings</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarContent>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <h1 class="text-lg font-semibold">Icon-Only Mode</h1>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="rounded-xl bg-muted/50 p-4">
                                    <p class="text-sm text-muted-foreground">Hover over icons to see tooltips. Click the trigger to expand.</p>
                                </div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/collapsible-icons.txt" />
    </div>

    <!-- Tree View Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">Tree View</h2>
        <p class="text-muted-foreground">Hierarchical file/folder structure with nested items.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider HeightClass="h-full">
                    <div class="flex h-full w-full">
                        <BbSidebar Collapsible="@isBasicCollapsible">
                            <BbSidebarHeader>
                                <BbSidebarHeaderContent>
                                    <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                        <LucideIcon Name="folder-tree" Size="16" />
                                    </div>
                                    <BbSidebarHeaderInfo>
                                        <span class="truncate font-semibold">File Explorer</span>
                                    </BbSidebarHeaderInfo>
                                </BbSidebarHeaderContent>
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="src">
                                            <LucideIcon Name="folder" Size="16" />
                                            <span>src</span>
                                        </BbSidebarMenuButton>
                                        <BbSidebarMenuSub>
                                            <BbSidebarMenuSubItem>
                                                <BbSidebarMenuSubButton>
                                                    <LucideIcon Name="folder" Size="16" />
                                                    <span>components</span>
                                                </BbSidebarMenuSubButton>
                                            </BbSidebarMenuSubItem>
                                            <BbSidebarMenuSubItem>
                                                <BbSidebarMenuSubButton>
                                                    <LucideIcon Name="folder" Size="16" />
                                                    <span>pages</span>
                                                </BbSidebarMenuSubButton>
                                            </BbSidebarMenuSubItem>
                                            <BbSidebarMenuSubItem>
                                                <BbSidebarMenuSubButton>
                                                    <LucideIcon Name="file-code" Size="16" />
                                                    <span>index.tsx</span>
                                                </BbSidebarMenuSubButton>
                                            </BbSidebarMenuSubItem>
                                        </BbSidebarMenuSub>
                                    </BbSidebarMenuItem>

                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="public">
                                            <LucideIcon Name="folder" Size="16" />
                                            <span>public</span>
                                        </BbSidebarMenuButton>
                                        <BbSidebarMenuSub>
                                            <BbSidebarMenuSubItem>
                                                <BbSidebarMenuSubButton>
                                                    <LucideIcon Name="image" Size="16" />
                                                    <span>logo.png</span>
                                                </BbSidebarMenuSubButton>
                                            </BbSidebarMenuSubItem>
                                        </BbSidebarMenuSub>
                                    </BbSidebarMenuItem>

                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="package.json">
                                            <LucideIcon Name="file-json" Size="16" />
                                            <span>package.json</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>

                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="README.md">
                                            <LucideIcon Name="file-text" Size="16" />
                                            <span>README.md</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarContent>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <h1 class="text-lg font-semibold">File Explorer</h1>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="rounded-xl bg-muted/50 p-4">
                                    <p class="text-sm text-muted-foreground">Tree view showing hierarchical file structure.</p>
                                </div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/tree-view.txt" />
    </div>

    <!-- With Sticky Header Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">With Sticky Header</h2>
        <p class="text-muted-foreground">Site header above sidebar with coordinated layout.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider HeightClass="h-full">
                    <div class="flex h-full w-full flex-col">
                        <!-- Site Header -->
                        <header class="flex h-14 shrink-0 items-center gap-4 border-b bg-background px-6">
                            <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                <LucideIcon Name="building" Size="16" />
                            </div>
                            <span class="font-semibold">Company Name</span>
                            <div class="ml-auto flex items-center gap-2">
                                <button class="flex h-8 w-8 items-center justify-center rounded-md hover:bg-accent">
                                    <LucideIcon Name="bell" Size="16" />
                                </button>
                                <button class="flex h-8 w-8 items-center justify-center rounded-md hover:bg-accent">
                                    <LucideIcon Name="user" Size="16" />
                                </button>
                            </div>
                        </header>

                        <!-- Sidebar and Content -->
                        <div class="flex flex-1 overflow-hidden">
                            <BbSidebar Collapsible="@isBasicCollapsible">
                                <BbSidebarContent>
                                    <BbSidebarMenu>
                                        <BbSidebarMenuItem>
                                            <BbSidebarMenuButton Tooltip="Overview">
                                                <LucideIcon Name="layout-dashboard" Size="16" />
                                                <span>Overview</span>
                                            </BbSidebarMenuButton>
                                        </BbSidebarMenuItem>
                                        <BbSidebarMenuItem>
                                            <BbSidebarMenuButton Tooltip="Analytics" IsActive="true">
                                                <LucideIcon Name="chart-column-stacked" Size="16" />
                                                <span>Analytics</span>
                                            </BbSidebarMenuButton>
                                        </BbSidebarMenuItem>
                                        <BbSidebarMenuItem>
                                            <BbSidebarMenuButton Tooltip="Reports">
                                                <LucideIcon Name="file-text" Size="16" />
                                                <span>Reports</span>
                                            </BbSidebarMenuButton>
                                        </BbSidebarMenuItem>
                                    </BbSidebarMenu>
                                </BbSidebarContent>

                                <BbSidebarFooter>
                                    <BbSidebarMenu>
                                        <BbSidebarMenuItem>
                                            <BbSidebarMenuButton Tooltip="Help">
                                                <LucideIcon Name="hand-helping" Size="16" />
                                                <span>Help</span>
                                            </BbSidebarMenuButton>
                                        </BbSidebarMenuItem>
                                    </BbSidebarMenu>
                                </BbSidebarFooter>
                            </BbSidebar>

                            <div class="flex flex-1 flex-col">
                                <div class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                    <BbSidebarTrigger />
                                    <h1 class="text-lg font-semibold">Analytics Dashboard</h1>
                                </div>
                                <div class="flex-1 p-4">
                                    <div class="rounded-xl bg-muted/50 p-4">
                                        <p class="text-sm text-muted-foreground">Site header stays fixed above the sidebar.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/sticky-header.txt" />
    </div>

    <!-- With Header Dropdown Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">With Header Dropdown</h2>
        <p class="text-muted-foreground">Version selector dropdown in sidebar header.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider HeightClass="h-full">
                    <div class="flex h-full w-full">
                        <BbSidebar Collapsible="@isBasicCollapsible">
                            <BbSidebarHeader>
                                <ResponsiveHeaderDropdown @bind-SelectedVersion="selectedVersion" />
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarGroup>
                                    <BbSidebarGroupLabel>Getting Started</BbSidebarGroupLabel>
                                    <BbSidebarGroupContent>
                                        <BbSidebarMenu>
                                            <BbSidebarMenuItem>
                                                <BbSidebarMenuButton Tooltip="Installation">
                                                    <LucideIcon Name="download" Size="16" />
                                                    <span>Installation</span>
                                                </BbSidebarMenuButton>
                                            </BbSidebarMenuItem>
                                            <BbSidebarMenuItem>
                                                <BbSidebarMenuButton Tooltip="Quick Start" IsActive="true">
                                                    <LucideIcon Name="zap" Size="16" />
                                                    <span>Quick Start</span>
                                                </BbSidebarMenuButton>
                                            </BbSidebarMenuItem>
                                        </BbSidebarMenu>
                                    </BbSidebarGroupContent>
                                </BbSidebarGroup>

                                <BbSidebarSeparator />

                                <BbSidebarGroup>
                                    <BbSidebarGroupLabel>Components</BbSidebarGroupLabel>
                                    <BbSidebarGroupContent>
                                        <BbSidebarMenu>
                                            <BbSidebarMenuItem>
                                                <BbSidebarMenuButton Tooltip="Button">
                                                    <LucideIcon Name="mouse-pointer-click" Size="16" />
                                                    <span>Button</span>
                                                </BbSidebarMenuButton>
                                            </BbSidebarMenuItem>
                                            <BbSidebarMenuItem>
                                                <BbSidebarMenuButton Tooltip="Card">
                                                    <LucideIcon Name="square" Size="16" />
                                                    <span>Card</span>
                                                </BbSidebarMenuButton>
                                            </BbSidebarMenuItem>
                                        </BbSidebarMenu>
                                    </BbSidebarGroupContent>
                                </BbSidebarGroup>
                            </BbSidebarContent>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <div class="flex items-center gap-2">
                                    <LucideIcon Name="book-open" Size="16" />
                                    <span class="text-muted-foreground">&gt;</span>
                                    <span>Quick Start</span>
                                </div>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="rounded-xl bg-muted/50 p-4">
                                    <p class="text-sm text-muted-foreground">Sidebar header includes a version dropdown selector.</p>
                                </div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/header-dropdown.txt" />
    </div>

    <!-- Collapsible Submenus Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">Collapsible Submenus</h2>
        <p class="text-muted-foreground">Expandable menu groups with chevron indicators.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider HeightClass="h-full">
                    <div class="flex h-full w-full">
                        <BbSidebar Collapsible="@isBasicCollapsible">
                            <BbSidebarHeader>
                                <BbSidebarHeaderContent>
                                    <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                        <LucideIcon Name="layout-grid" Size="16" />
                                    </div>
                                    <BbSidebarHeaderInfo>
                                        <span class="truncate font-semibold">Dashboard</span>
                                    </BbSidebarHeaderInfo>
                                </BbSidebarHeaderContent>
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Overview">
                                            <LucideIcon Name="house" Size="16" />
                                            <span>Overview</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>

                                    <BbSidebarMenuItem>
                                        <BbCollapsible>
                                            <BbSidebarMenuButton Tooltip="Models">
                                                <LucideIcon Name="box" Size="16" />
                                                <span>Models</span>
                                                <BbSidebarMenuChevron>
                                                    <LucideIcon Name="chevron-right" Size="16" />
                                                </BbSidebarMenuChevron>
                                            </BbSidebarMenuButton>
                                            <BbCollapsibleContent>
                                                <BbSidebarMenuSub>
                                                    <BbSidebarMenuSubItem>
                                                        <BbSidebarMenuSubButton>
                                                            <span>Genesis</span>
                                                        </BbSidebarMenuSubButton>
                                                    </BbSidebarMenuSubItem>
                                                    <BbSidebarMenuSubItem>
                                                        <BbSidebarMenuSubButton>
                                                            <span>Explorer</span>
                                                        </BbSidebarMenuSubButton>
                                                    </BbSidebarMenuSubItem>
                                                    <BbSidebarMenuSubItem>
                                                        <BbSidebarMenuSubButton>
                                                            <span>Quantum</span>
                                                        </BbSidebarMenuSubButton>
                                                    </BbSidebarMenuSubItem>
                                                </BbSidebarMenuSub>
                                            </BbCollapsibleContent>
                                        </BbCollapsible>
                                    </BbSidebarMenuItem>

                                    <BbSidebarMenuItem>
                                        <BbCollapsible>
                                            <BbSidebarMenuButton Tooltip="Documentation">
                                                <LucideIcon Name="book-open" Size="16" />
                                                <span>Documentation</span>
                                                <BbSidebarMenuChevron>
                                                    <LucideIcon Name="chevron-right" Size="16" />
                                                </BbSidebarMenuChevron>
                                            </BbSidebarMenuButton>
                                            <BbCollapsibleContent>
                                                <BbSidebarMenuSub>
                                                    <BbSidebarMenuSubItem>
                                                        <BbSidebarMenuSubButton>
                                                            <span>Introduction</span>
                                                        </BbSidebarMenuSubButton>
                                                    </BbSidebarMenuSubItem>
                                                    <BbSidebarMenuSubItem>
                                                        <BbSidebarMenuSubButton>
                                                            <span>Get Started</span>
                                                        </BbSidebarMenuSubButton>
                                                    </BbSidebarMenuSubItem>
                                                    <BbSidebarMenuSubItem>
                                                        <BbSidebarMenuSubButton>
                                                            <span>Tutorials</span>
                                                        </BbSidebarMenuSubButton>
                                                    </BbSidebarMenuSubItem>
                                                </BbSidebarMenuSub>
                                            </BbCollapsibleContent>
                                        </BbCollapsible>
                                    </BbSidebarMenuItem>

                                    <BbSidebarMenuItem>
                                        <BbCollapsible>
                                            <BbSidebarMenuButton Tooltip="Settings">
                                                <LucideIcon Name="settings" Size="16" />
                                                <span>Settings</span>
                                                <BbSidebarMenuChevron>
                                                    <LucideIcon Name="chevron-right" Size="16" />
                                                </BbSidebarMenuChevron>
                                            </BbSidebarMenuButton>
                                            <BbCollapsibleContent>
                                                <BbSidebarMenuSub>
                                                    <BbSidebarMenuSubItem>
                                                        <BbSidebarMenuSubButton>
                                                            <span>General</span>
                                                        </BbSidebarMenuSubButton>
                                                    </BbSidebarMenuSubItem>
                                                    <BbSidebarMenuSubItem>
                                                        <BbSidebarMenuSubButton>
                                                            <span>Team</span>
                                                        </BbSidebarMenuSubButton>
                                                    </BbSidebarMenuSubItem>
                                                </BbSidebarMenuSub>
                                            </BbCollapsibleContent>
                                        </BbCollapsible>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarContent>

                            <BbSidebarFooter>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbDropdownMenu>
                                            <BbDropdownMenuTrigger AsChild="false" ActiveClass="bg-sidebar-accent" Class="flex w-full items-center gap-2 px-2 py-1.5 group-data-[collapsible=icon]:px-2 group-data-[collapsible=icon]:py-1.5 group-data-[collapsible=icon]:justify-center cursor-pointer hover:bg-sidebar-accent rounded-md transition-colors text-sm outline-none ring-sidebar-ring focus-visible:ring-2">
                                                <BbAvatar Class="h-8 w-8 rounded-lg">
                                                    <BbAvatarImage Source="Components/_content/BlazorBlueprint.Demo.Shared/images/mathew-icon.png" alt="Mathew" />
                                                    <BbAvatarFallback Class="rounded-lg">M</BbAvatarFallback>
                                                </BbAvatar>
                                                <div class="grid flex-1 text-left text-sm leading-tight group-data-[collapsible=icon]:hidden">
                                                    <span class="truncate font-semibold">Mathew</span>
                                                    <span class="truncate text-xs text-muted-foreground">mathew@example.com</span>
                                                </div>
                                                <LucideIcon Name="chevrons-up-down" Size="16" Class="ml-auto group-data-[collapsible=icon]:hidden" />
                                            </BbDropdownMenuTrigger>
                                            <BbDropdownMenuContent Align="@PopoverAlign.End" Class="w-[240px]">
                                                <BbDropdownMenuLabel Class="font-normal">
                                                    <div class="flex items-center gap-2 px-1 py-1.5">
                                                        <BbAvatar Class="h-8 w-8 rounded-lg">
                                                            <BbAvatarImage Source="Components/_content/BlazorBlueprint.Demo.Shared/images/mathew-icon.png" alt="Mathew" />
                                                            <BbAvatarFallback Class="rounded-lg">M</BbAvatarFallback>
                                                        </BbAvatar>
                                                        <div class="grid flex-1 text-left text-sm leading-tight">
                                                            <span class="truncate font-semibold">Mathew</span>
                                                            <span class="truncate text-xs text-muted-foreground">mathew@example.com</span>
                                                        </div>
                                                    </div>
                                                </BbDropdownMenuLabel>
                                                <BbDropdownMenuSeparator />
                                                <BbDropdownMenuItem>
                                                    <LucideIcon Name="sparkles" Size="16" />
                                                    <span class="ml-2">Upgrade to Pro</span>
                                                </BbDropdownMenuItem>
                                                <BbDropdownMenuSeparator />
                                                <BbDropdownMenuItem>
                                                    <LucideIcon Name="user" Size="16" />
                                                    <span class="ml-2">Account</span>
                                                </BbDropdownMenuItem>
                                                <BbDropdownMenuItem>
                                                    <LucideIcon Name="credit-card" Size="16" />
                                                    <span class="ml-2">Billing</span>
                                                </BbDropdownMenuItem>
                                                <BbDropdownMenuItem>
                                                    <LucideIcon Name="bell" Size="16" />
                                                    <span class="ml-2">Notifications</span>
                                                </BbDropdownMenuItem>
                                                <BbDropdownMenuSeparator />
                                                <BbDropdownMenuItem>
                                                    <LucideIcon Name="log-out" Size="16" />
                                                    <span class="ml-2">Log out</span>
                                                </BbDropdownMenuItem>
                                            </BbDropdownMenuContent>
                                        </BbDropdownMenu>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarFooter>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <h1 class="text-lg font-semibold">Overview</h1>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="rounded-xl bg-muted/50 p-4">
                                    <p class="text-sm text-muted-foreground">Menu items with chevron icons indicate collapsible submenus.</p>
                                </div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/collapsible-submenus.txt" />
    </div>

    <!-- 3-Level Nested Menu Example -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">3-Level Nested Menu</h2>
        <p class="text-muted-foreground">Deep nesting with collapsible submenus at level 2 and a right-side dropdown at level 3.</p>

        <div class="border rounded-lg p-6 bg-background">
            <div class="h-[600px] w-full border rounded-lg overflow-hidden bg-background">
                <BbSidebarProvider HeightClass="h-full">
                    <div class="flex h-full w-full">
                        <BbSidebar Collapsible="@isBasicCollapsible">
                            <BbSidebarHeader>
                                <BbSidebarHeaderContent>
                                    <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground">
                                        <LucideIcon Name="folder-tree" Size="16" />
                                    </div>
                                    <BbSidebarHeaderInfo>
                                        <span class="truncate font-semibold">Project Manager</span>
                                    </BbSidebarHeaderInfo>
                                </BbSidebarHeaderContent>
                            </BbSidebarHeader>

                            <BbSidebarContent>
                                <BbSidebarMenu>
                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Dashboard">
                                            <LucideIcon Name="layout-dashboard" Size="16" />
                                            <span>Dashboard</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>

                                    <BbSidebarMenuItem>
                                        <BbCollapsible>
                                            <BbSidebarMenuButton Tooltip="Projects">
                                                <LucideIcon Name="folder" Size="16" />
                                                <span>Projects</span>
                                                <BbSidebarMenuChevron>
                                                    <LucideIcon Name="chevron-right" Size="16" />
                                                </BbSidebarMenuChevron>
                                            </BbSidebarMenuButton>

                                            <BbCollapsibleContent>
                                                <BbSidebarMenuSub>
                                                    <BbSidebarMenuSubItem>
                                                        <BbSidebarMenuSubButton>
                                                            <span>Active Projects</span>
                                                        </BbSidebarMenuSubButton>
                                                    </BbSidebarMenuSubItem>

                                                    <BbSidebarMenuSubItem>
                                                        <BbSidebarMenuSubButton>
                                                            <span>Archived Projects</span>
                                                        </BbSidebarMenuSubButton>
                                                    </BbSidebarMenuSubItem>

                                                    <BbSidebarMenuSubItem class="-mr-6">
                                                        <BbDropdownMenu>
                                                            <BbDropdownMenuTrigger AsChild="false" ActiveClass="bg-sidebar-accent" Class="flex w-full h-7 min-w-0 items-center gap-2 overflow-hidden rounded-md px-2 text-sm text-sidebar-foreground outline-none ring-sidebar-ring transition-colors hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 cursor-pointer">
                                                                <span class="truncate">Project Settings</span>
                                                                <LucideIcon Name="chevron-right" Size="16" Class="ml-auto shrink-0" />
                                                            </BbDropdownMenuTrigger>
                                                            <BbDropdownMenuContent Side="PopoverSide.Right" Align="PopoverAlign.Start" Class="min-w-[180px]">
                                                                <BbDropdownMenuItem>General Settings</BbDropdownMenuItem>
                                                                <BbDropdownMenuItem>Access Control</BbDropdownMenuItem>
                                                                <BbDropdownMenuItem>Notifications</BbDropdownMenuItem>
                                                                <BbDropdownMenuItem>Integrations</BbDropdownMenuItem>
                                                            </BbDropdownMenuContent>
                                                        </BbDropdownMenu>
                                                    </BbSidebarMenuSubItem>
                                                </BbSidebarMenuSub>
                                            </BbCollapsibleContent>
                                        </BbCollapsible>
                                    </BbSidebarMenuItem>

                                    <BbSidebarMenuItem>
                                        <BbSidebarMenuButton Tooltip="Reports">
                                            <LucideIcon Name="file-text" Size="16" />
                                            <span>Reports</span>
                                        </BbSidebarMenuButton>
                                    </BbSidebarMenuItem>
                                </BbSidebarMenu>
                            </BbSidebarContent>
                        </BbSidebar>

                        <BbSidebarInset>
                            <header class="flex h-16 shrink-0 items-center gap-2 border-b px-4">
                                <BbSidebarTrigger />
                                <h1 class="text-lg font-semibold">3-Level Nesting Demo</h1>
                            </header>
                            <div class="flex flex-1 flex-col gap-4 p-4">
                                <div class="rounded-xl bg-muted/50 p-4">
                                    <p class="text-sm text-muted-foreground mb-2">This example demonstrates 3-level menu nesting:</p>
                                    <ul class="text-sm text-muted-foreground list-disc list-inside space-y-1">
                                        <li>Level 1: Projects (top-level collapsible)</li>
                                        <li>Level 2: Active Projects, Archived Projects, Project Settings</li>
                                        <li>Level 3: Right-side dropdown with General Settings, Access Control, Notifications, Integrations</li>
                                    </ul>
                                </div>
                            </div>
                        </BbSidebarInset>
                    </div>
                </BbSidebarProvider>
            </div>
        </div>

        <CodeBlock Source="Components/Sidebar/three-level-nested.txt" />
    </div>

    <AccessibilityList>
            <AriaAttributes>
                <AccessibilityItem>
                    Responsive design with Sheet overlay on mobile and persistent sidebar on desktop.
                </AccessibilityItem>
                <AccessibilityItem>
                    Collapsible with icon-only mode and automatic tooltips in collapsed state.
                </AccessibilityItem>
                <AccessibilityItem>
                    State persistence via cookies to remember user's sidebar preference.
                </AccessibilityItem>
            </AriaAttributes>
            <KeyboardNavigation>
                <KeyboardShortcutItem Description="Toggle sidebar open/closed">
                    <BbKbd>Ctrl+B</BbKbd> / <BbKbd>Cmd+B</BbKbd>
                </KeyboardShortcutItem>
            </KeyboardNavigation>
        </AccessibilityList>

    <!-- API Reference -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold border-b pb-2">API Reference</h2>

        <div class="space-y-6">
            <div>
                <h3 class="text-lg font-semibold mb-2">SidebarProvider</h3>
                <p class="text-sm text-muted-foreground mb-3">The root provider component that manages sidebar state.</p>
                <div class="rounded-lg border overflow-hidden">
                    <table class="w-full">
                        <thead class="border-b bg-muted/50">
                            <tr>
                                <th class="p-3 text-left font-medium">Prop</th>
                                <th class="p-3 text-left font-medium">Type</th>
                                <th class="p-3 text-left font-medium">Default</th>
                                <th class="p-3 text-left font-medium">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b">
                                <td class="p-3"><code class="text-sm">DefaultOpen</code></td>
                                <td class="p-3 text-sm">bool</td>
                                <td class="p-3 text-sm">true</td>
                                <td class="p-3 text-sm">Initial open state</td>
                            </tr>
                            <tr class="border-b">
                                <td class="p-3"><code class="text-sm">Variant</code></td>
                                <td class="p-3 text-sm">SidebarVariant</td>
                                <td class="p-3 text-sm">Sidebar</td>
                                <td class="p-3 text-sm">Visual variant (Sidebar, Floating, Inset)</td>
                            </tr>
                            <tr class="border-b">
                                <td class="p-3"><code class="text-sm">Side</code></td>
                                <td class="p-3 text-sm">SidebarSide</td>
                                <td class="p-3 text-sm">Left</td>
                                <td class="p-3 text-sm">Side to render (Left, Right)</td>
                            </tr>
                            <tr>
                                <td class="p-3"><code class="text-sm">CookieKey</code></td>
                                <td class="p-3 text-sm">string</td>
                                <td class="p-3 text-sm">"sidebar:state"</td>
                                <td class="p-3 text-sm">Cookie key for persistence</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div>
                <h3 class="text-lg font-semibold mb-2">SidebarMenuButton</h3>
                <p class="text-sm text-muted-foreground mb-3">Clickable menu item with tooltip support.</p>
                <div class="rounded-lg border overflow-hidden">
                    <table class="w-full">
                        <thead class="border-b bg-muted/50">
                            <tr>
                                <th class="p-3 text-left font-medium">Prop</th>
                                <th class="p-3 text-left font-medium">Type</th>
                                <th class="p-3 text-left font-medium">Default</th>
                                <th class="p-3 text-left font-medium">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b">
                                <td class="p-3"><code class="text-sm">Tooltip</code></td>
                                <td class="p-3 text-sm">string?</td>
                                <td class="p-3 text-sm">null</td>
                                <td class="p-3 text-sm">Tooltip shown in collapsed state</td>
                            </tr>
                            <tr class="border-b">
                                <td class="p-3"><code class="text-sm">Size</code></td>
                                <td class="p-3 text-sm">string</td>
                                <td class="p-3 text-sm">"default"</td>
                                <td class="p-3 text-sm">Size variant (sm, default, lg)</td>
                            </tr>
                            <tr class="border-b">
                                <td class="p-3"><code class="text-sm">Variant</code></td>
                                <td class="p-3 text-sm">string</td>
                                <td class="p-3 text-sm">"default"</td>
                                <td class="p-3 text-sm">Style variant (default, outline)</td>
                            </tr>
                            <tr class="border-b">
                                <td class="p-3"><code class="text-sm">IsActive</code></td>
                                <td class="p-3 text-sm">bool</td>
                                <td class="p-3 text-sm">false</td>
                                <td class="p-3 text-sm">Active/selected state</td>
                            </tr>
                            <tr>
                                <td class="p-3"><code class="text-sm">AsChild</code></td>
                                <td class="p-3 text-sm">string</td>
                                <td class="p-3 text-sm">"button"</td>
                                <td class="p-3 text-sm">Element type (button, a)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div>
                <h3 class="text-lg font-semibold mb-2">SidebarInset</h3>
                <p class="text-sm text-muted-foreground mb-3">Main content area next to the sidebar.</p>
                <div class="rounded-lg border overflow-hidden">
                    <table class="w-full">
                        <thead class="border-b bg-muted/50">
                            <tr>
                                <th class="p-3 text-left font-medium">Prop</th>
                                <th class="p-3 text-left font-medium">Type</th>
                                <th class="p-3 text-left font-medium">Default</th>
                                <th class="p-3 text-left font-medium">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b">
                                <td class="p-3"><code class="text-sm">ResetScrollOnNavigation</code></td>
                                <td class="p-3 text-sm">bool</td>
                                <td class="p-3 text-sm">true</td>
                                <td class="p-3 text-sm">Automatically scrolls to the top when the route changes</td>
                            </tr>
                            <tr>
                                <td class="p-3"><code class="text-sm">Class</code></td>
                                <td class="p-3 text-sm">string?</td>
                                <td class="p-3 text-sm">null</td>
                                <td class="p-3 text-sm">Additional CSS classes</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

</div>

@code {
    private bool isBasicCollapsible = true;
    private string selectedVersion = "v1.0.1";

    private string GetRandomIcon(int index)
    {
        var icons = new[] {
            "house", "file", "folder", "users", "settings", "search",
            "bell", "calendar", "mail", "star", "bookmark", "tag",
            "database", "server", "cloud", "package", "square", "table",
            "list", "inbox", "archive", "trash", "download", "upload",
            "share", "copy", "pencil", "filter", "arrow-up-down", "rotate-cw"
        };
        return icons[index % icons.Length];
    }
}
