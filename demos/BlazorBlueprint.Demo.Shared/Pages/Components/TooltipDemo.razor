@page "/components/tooltip"
@using BlazorBlueprint.Primitives.Services
<PageTitle>Tooltip Component - Blazor Blueprint</PageTitle>

<BbTooltipProvider>
    <div class="space-y-8 max-w-4xl">
        <div>
        <div class="space-y-3">
            <h1 class="text-4xl font-bold tracking-tight">Tooltip Component</h1>
            <p class="text-xl text-muted-foreground">
                A popup that displays information related to an element when the element receives keyboard focus or the mouse hovers over it.
            </p>
        </div>
    </div>

    <div class="space-y-6">
        </div>

        <!-- AsChild Pattern -->
        <div class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">AsChild Pattern</h2>
                <p class="text-sm text-muted-foreground">
                    Use AsChild to compose triggers with your own styled Button components.
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- Without AsChild -->
                <div class="space-y-3 p-4 border rounded-lg">
                    <h3 class="text-lg font-medium">Without AsChild</h3>
                    <p class="text-sm text-muted-foreground">
                        TooltipTrigger renders its own span element.
                    </p>
                    <BbTooltip>
                        <BbTooltipTrigger AsChild="false" Class="inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground cursor-pointer">
                            Hover me
                        </BbTooltipTrigger>
                        <BbTooltipContent>
                            <p>Tooltip with inline classes</p>
                        </BbTooltipContent>
                    </BbTooltip>
                </div>

                <!-- With AsChild -->
                <div class="space-y-3 p-4 border rounded-lg">
                    <h3 class="text-lg font-medium">With AsChild</h3>
                    <p class="text-sm text-muted-foreground">
                        Button receives hover/focus behavior via TriggerContext.
                    </p>
                    <BbTooltip>
                        <BbTooltipTrigger>
                            <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Icon">
                                <LucideIcon Name="info" Size="16" />
                            </BbButton>
                        </BbTooltipTrigger>
                        <BbTooltipContent>
                            Additional information
                        </BbTooltipContent>
                    </BbTooltip>
                </div>
            </div>

            <CodeBlock Source="Components/Tooltip/as-child.txt" />
        </div>

        <!-- Basic Usage -->
        <div class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">Basic Usage</h2>
                <p class="text-sm text-muted-foreground">
                    Hover over or focus the element to see the tooltip.
                </p>
            </div>
            <div class="flex gap-4">
                <BbTooltip>
                    <BbTooltipTrigger AsChild="false" Class="inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground cursor-pointer">
                        Hover me
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        <p>This is a tooltip</p>
                    </BbTooltipContent>
                </BbTooltip>
            </div>

            <CodeBlock Source="Components/Tooltip/basic.txt" />
        </div>

        <!-- Placements -->
        <div class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">Tooltip Placements</h2>
                <p class="text-sm text-muted-foreground">
                    Tooltips can be positioned in different locations relative to the trigger.
                </p>
            </div>
            <div class="flex flex-wrap gap-4">
                <BbTooltip Placement="@PopoverPlacement.Top">
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground hover:bg-primary/90 cursor-pointer">
                        Top
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        Tooltip on top
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip Placement="@PopoverPlacement.Bottom">
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground hover:bg-primary/90 cursor-pointer">
                        Bottom
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        Tooltip on bottom
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip Placement="@PopoverPlacement.Left">
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground hover:bg-primary/90 cursor-pointer">
                        Left
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        Tooltip on left
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip Placement="@PopoverPlacement.Right">
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground hover:bg-primary/90 cursor-pointer">
                        Right
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        Tooltip on right
                    </BbTooltipContent>
                </BbTooltip>
            </div>

            <CodeBlock Source="Components/Tooltip/placements.txt" />
        </div>

        <!-- With Arrow -->
        <div class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">With Arrow</h2>
                <p class="text-sm text-muted-foreground">
                    Add a directional arrow pointing toward the trigger using <code class="text-xs bg-muted px-1 py-0.5 rounded">ShowArrow</code>.
                </p>
            </div>
            <div class="flex flex-wrap gap-4">
                <BbTooltip Placement="@PopoverPlacement.Top">
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground hover:bg-primary/90 cursor-pointer">
                        Top
                    </BbTooltipTrigger>
                    <BbTooltipContent ShowArrow="true">
                        Arrow on top
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip Placement="@PopoverPlacement.Bottom">
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground hover:bg-primary/90 cursor-pointer">
                        Bottom
                    </BbTooltipTrigger>
                    <BbTooltipContent ShowArrow="true">
                        Arrow on bottom
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip Placement="@PopoverPlacement.Left">
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground hover:bg-primary/90 cursor-pointer">
                        Left
                    </BbTooltipTrigger>
                    <BbTooltipContent ShowArrow="true">
                        Arrow on left
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip Placement="@PopoverPlacement.Right">
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-3 text-sm font-medium text-primary-foreground hover:bg-primary/90 cursor-pointer">
                        Right
                    </BbTooltipTrigger>
                    <BbTooltipContent ShowArrow="true">
                        Arrow on right
                    </BbTooltipContent>
                </BbTooltip>
            </div>

            <CodeBlock Source="Components/Tooltip/with-arrow.txt" />
        </div>

        <!-- With Icons -->
        <div class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">Icon Tooltips</h2>
                <p class="text-sm text-muted-foreground">
                    Common pattern for providing contextual help.
                </p>
            </div>
            <div class="flex items-center gap-6">
                <div class="flex items-center gap-2">
                    <span>Username</span>
                    <BbTooltip>
                        <BbTooltipTrigger AsChild="false">
                            <LucideIcon Name="info" Size="16" Class="cursor-help text-muted-foreground" />
                        </BbTooltipTrigger>
                        <BbTooltipContent>
                            Choose a unique username for your account
                        </BbTooltipContent>
                    </BbTooltip>
                </div>

                <div class="flex items-center gap-2">
                    <span>Email</span>
                    <BbTooltip>
                        <BbTooltipTrigger AsChild="false">
                            <LucideIcon Name="info" Size="16" Class="cursor-help text-muted-foreground" />
                        </BbTooltipTrigger>
                        <BbTooltipContent>
                            We'll never share your email with anyone
                        </BbTooltipContent>
                    </BbTooltip>
                </div>
            </div>

            <CodeBlock Source="Components/Tooltip/icon-tooltips.txt" />
        </div>

        <!-- Toolbar Example -->
        <div class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">Toolbar with Tooltips</h2>
                <p class="text-sm text-muted-foreground">
                    Icons with descriptive tooltips for toolbar actions.
                </p>
            </div>
            <div class="border rounded-lg p-2 inline-flex gap-1">
                <BbTooltip>
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium hover:bg-accent hover:text-accent-foreground cursor-pointer">
                        <LucideIcon Name="bold" Size="16" />
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        Bold (Ctrl+B)
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip>
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium hover:bg-accent hover:text-accent-foreground cursor-pointer">
                        <LucideIcon Name="italic" Size="16" />
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        Italic (Ctrl+I)
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip>
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium hover:bg-accent hover:text-accent-foreground cursor-pointer">
                        <LucideIcon Name="underline" Size="16" />
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        Underline (Ctrl+U)
                    </BbTooltipContent>
                </BbTooltip>

                <BbSeparator Orientation="SeparatorOrientation.Vertical" Class="mx-1 h-8" />

                <BbTooltip>
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium hover:bg-accent hover:text-accent-foreground cursor-pointer">
                        <LucideIcon Name="align-left" Size="16" />
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        Align Left
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip>
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium hover:bg-accent hover:text-accent-foreground cursor-pointer">
                        <LucideIcon Name="align-center" Size="16" />
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        Align Center
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip>
                    <BbTooltipTrigger AsChild="false" Class="inline-flex h-8 w-8 items-center justify-center rounded-md text-sm font-medium hover:bg-accent hover:text-accent-foreground cursor-pointer">
                        <LucideIcon Name="align-right" Size="16" />
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        Align Right
                    </BbTooltipContent>
                </BbTooltip>
            </div>

            <CodeBlock Source="Components/Tooltip/toolbar.txt" />
        </div>

        <!-- Rich Content -->
        <div class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">Rich Content Tooltips</h2>
                <p class="text-sm text-muted-foreground">
                    Tooltips can contain formatted content and multiple elements.
                </p>
            </div>
            <div class="flex gap-4">
                <BbTooltip>
                    <BbTooltipTrigger AsChild="false" Class="inline-flex items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground cursor-pointer">
                        <LucideIcon Name="package" Size="16" Class="mr-2" />
                        Premium Plan
                    </BbTooltipTrigger>
                    <BbTooltipContent Class="max-w-xs">
                        <div class="space-y-1">
                            <p class="font-semibold">Premium Features</p>
                            <ul class="text-xs space-y-0.5 text-muted-foreground">
                                <li>• Unlimited projects</li>
                                <li>• Priority support</li>
                                <li>• Advanced analytics</li>
                            </ul>
                        </div>
                    </BbTooltipContent>
                </BbTooltip>

                <BbTooltip>
                    <BbTooltipTrigger AsChild="false" Class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors cursor-help">
                        <LucideIcon Name="zap" Size="12" Class="mr-1" />
                        Performance
                    </BbTooltipTrigger>
                    <BbTooltipContent>
                        <div class="text-xs">
                            <p class="font-medium mb-1">Optimized for Speed</p>
                            <p class="text-muted-foreground">Loads 40% faster than competitors</p>
                        </div>
                    </BbTooltipContent>
                </BbTooltip>
            </div>

            <CodeBlock Source="Components/Tooltip/rich-content.txt" />
        </div>

        <!-- Accessibility -->
        <AccessibilityList>
            <AriaAttributes>
                <AccessibilityItem>
                    <code class="text-xs bg-muted px-1 py-0.5 rounded">role="tooltip"</code> helps screen readers identify the popup
                </AccessibilityItem>
                <AccessibilityItem>
                    Tooltips appear on both hover and keyboard focus
                </AccessibilityItem>
                <AccessibilityItem>
                    700ms delay prevents accidental tooltips during mouse movement
                </AccessibilityItem>
                <AccessibilityItem>
                    Tooltips should enhance, not replace, essential information
                </AccessibilityItem>
                <AccessibilityItem>
                    After seeing one tooltip, subsequent tooltips appear faster (discovery mode)
                </AccessibilityItem>
            </AriaAttributes>
            <KeyboardNavigation>
                <KeyboardShortcutItem Description="Show tooltip">
                    <BbKbd>Focus</BbKbd>
                </KeyboardShortcutItem>
            </KeyboardNavigation>
        </AccessibilityList>

        <!-- API Reference -->
        <section class="space-y-4">
            <div class="space-y-2">
                <h2 class="text-2xl font-semibold">API Reference</h2>
                <p class="text-muted-foreground">Component properties and parameters.</p>
            </div>

            <div class="space-y-4">
                <ApiReference ComponentName="TooltipProvider">
                    <ApiParameter Name="DelayDuration" Type="int" Default="700">
                        Duration in ms before showing tooltips.
                    </ApiParameter>
                    <ApiParameter Name="SkipDelayDuration" Type="int" Default="300">
                        Duration to skip delay for subsequent tooltips.
                    </ApiParameter>
                </ApiReference>

                <ApiReference ComponentName="Tooltip">
                    <ApiParameter Name="Placement" Type="string" Default="&quot;top&quot;">
                        Position of tooltip: "top", "bottom", "left", "right", or variants like "top-start", "bottom-end".
                    </ApiParameter>
                </ApiReference>

                <ApiReference ComponentName="TooltipTrigger">
                    <ApiParameter Name="Focusable" Type="bool" Default="true">
                        Whether to add tabindex="0" for keyboard focus. Set false if child is already focusable.
                    </ApiParameter>
                </ApiReference>

                <ApiReference ComponentName="TooltipContent">
                    <ApiParameter Name="Class" Type="string?">
                        Additional CSS classes for the tooltip content container.
                    </ApiParameter>
                </ApiReference>
            </div>
        </section>
    </div>
</BbTooltipProvider>
