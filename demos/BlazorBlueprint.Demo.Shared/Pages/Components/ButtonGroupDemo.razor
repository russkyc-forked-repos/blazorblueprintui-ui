@page "/components/button-group"
@using BlazorBlueprint.Primitives.Services
@using BlazorBlueprint.Icons.Lucide.Components

<PageTitle>Button Group - Blazor Blueprint</PageTitle>

<div class="space-y-10 max-w-4xl">
    <div class="space-y-3">
        <h1 class="text-4xl font-bold tracking-tight">Button Group</h1>
        <p class="text-xl text-muted-foreground">
            Visually group related buttons together with connected styling.
        </p>
    </div>

    <!-- Basic Horizontal Groups -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Basic Horizontal Groups</h2>
            <p class="text-muted-foreground">
                Group related buttons together horizontally with connected borders.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Simple Group -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Simple Button Group</h3>
                <BbButtonGroup>
                    <BbButton Variant="ButtonVariant.Outline">Archive</BbButton>
                    <BbButton Variant="ButtonVariant.Outline">Report</BbButton>
                    <BbButton Variant="ButtonVariant.Outline">Delete</BbButton>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/basic.txt" />
            </div>

            <!-- With Icons -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">With Icons</h3>
                <BbButtonGroup>
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="align-left" Size="16" />
                        Left
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="align-center" Size="16" />
                        Center
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="align-right" Size="16" />
                        Right
                    </BbButton>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/with-icons.txt" />
            </div>

            <!-- Icon Only -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Icon Only</h3>
                <BbButtonGroup>
                    <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Bold">
                        <LucideIcon Name="bold" Size="16" />
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Italic">
                        <LucideIcon Name="italic" Size="16" />
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Underline">
                        <LucideIcon Name="underline" Size="16" />
                    </BbButton>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/icon-only.txt" />
            </div>

            <!-- Different Variants -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Secondary Variant</h3>
                <BbButtonGroup>
                    <BbButton Variant="ButtonVariant.Secondary">Year</BbButton>
                    <BbButton Variant="ButtonVariant.Secondary">Month</BbButton>
                    <BbButton Variant="ButtonVariant.Secondary">Week</BbButton>
                    <BbButton Variant="ButtonVariant.Secondary">Day</BbButton>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/secondary.txt" />
            </div>
        </div>
    </section>

    <!-- Vertical Groups -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Vertical Groups</h2>
            <p class="text-muted-foreground">
                Stack buttons vertically for sidebar-style navigation.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Vertical Navigation -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Vertical Navigation</h3>
                <BbButtonGroup Orientation="ButtonGroupOrientation.Vertical">
                    <BbButton Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="house" Size="16" />
                        Home
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="user" Size="16" />
                        Profile
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="settings" Size="16" />
                        Settings
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="log-out" Size="16" />
                        Logout
                    </BbButton>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/vertical.txt" />
            </div>
        </div>
    </section>

    <!-- With Separator -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">With Separators</h2>
            <p class="text-muted-foreground">
                Add visual dividers between button sections using ButtonGroupSeparator.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Horizontal with Separator -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Horizontal with Separator</h3>
                <BbButtonGroup>
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="copy" Size="16" />
                        Copy
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="clipboard-paste" Size="16" />
                        Paste
                    </BbButton>
                    <BbButtonGroupSeparator />
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="undo" Size="16" />
                        Undo
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="redo" Size="16" />
                        Redo
                    </BbButton>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/horizontal-separator.txt" />
            </div>

            <!-- Vertical with Separator -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Vertical with Separator</h3>
                <BbButtonGroup Orientation="ButtonGroupOrientation.Vertical">
                    <BbButton Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="file" Size="16" />
                        New File
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="folder" Size="16" />
                        New Folder
                    </BbButton>
                    <BbButtonGroupSeparator Orientation="SeparatorOrientation.Horizontal" />
                    <BbButton Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="download" Size="16" />
                        Download
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline" Class="justify-start">
                        <LucideIcon Name="upload" Size="16" />
                        Upload
                    </BbButton>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/vertical-separator.txt" />
            </div>
        </div>
    </section>

    <!-- With Text Labels -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">With Text Labels</h2>
            <p class="text-muted-foreground">
                Add text labels using ButtonGroupText for better context.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Text Label Example -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Labeled Actions</h3>
                <BbButtonGroup>
                    <BbButtonGroupText>
                        <LucideIcon Name="file-text" Size="16" />
                        Document Actions:
                    </BbButtonGroupText>
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="eye" Size="16" />
                        View
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="pencil" Size="16" />
                        Edit
                    </BbButton>
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="trash-2" Size="16" />
                        Delete
                    </BbButton>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/text-labels.txt" />
            </div>
        </div>
    </section>

    <!-- Nested Button Groups -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Nested Button Groups</h2>
            <p class="text-muted-foreground">
                Group button groups together with automatic spacing.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Email Actions Example (similar to Shadcn) -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Email Actions Toolbar</h3>
                <BbButtonGroup>
                    <BbButtonGroup Class="hidden sm:flex">
                        <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Go Back">
                            <LucideIcon Name="arrow-left" Size="16" />
                        </BbButton>
                    </BbButtonGroup>
                    <BbButtonGroup>
                        <BbButton Variant="ButtonVariant.Outline">Archive</BbButton>
                        <BbButton Variant="ButtonVariant.Outline">Report</BbButton>
                    </BbButtonGroup>
                    <BbButtonGroup>
                        <BbButton Variant="ButtonVariant.Outline">Snooze</BbButton>
                        <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="More Options">
                            <LucideIcon Name="ellipsis" Size="16" />
                        </BbButton>
                    </BbButtonGroup>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/nested.txt" />
            </div>
        </div>
    </section>

    <!-- Complex Example with Dropdown -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Complex Integration</h2>
            <p class="text-muted-foreground">
                Combine ButtonGroup with other components like Dropdown Menus.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Email Toolbar with Dropdown -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Email Actions Toolbar with Dropdown</h3>
                <BbButtonGroup>
                    <BbButtonGroup Class="hidden sm:flex">
                        <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Go Back">
                            <LucideIcon Name="arrow-left" Size="16" />
                        </BbButton>
                    </BbButtonGroup>
                    <BbButtonGroup>
                        <BbButton Variant="ButtonVariant.Outline">Archive</BbButton>
                        <BbButton Variant="ButtonVariant.Outline">Report</BbButton>
                    </BbButtonGroup>
                    <BbButtonGroup>
                        <BbButton Variant="ButtonVariant.Outline">Snooze</BbButton>
                        <BbDropdownMenu>
                            <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center gap-2 !rounded-l-none !rounded-r-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none border border-input border-l-0 bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10 cursor-pointer" aria-label="More Options">
                                <LucideIcon Name="ellipsis" Size="16" />
                            </BbDropdownMenuTrigger>
                            <BbDropdownMenuContent Align="@PopoverAlign.End" Class="w-52">
                                <BbDropdownMenuGroup>
                                    <BbDropdownMenuItem>
                                        <LucideIcon Name="mail-check" Size="16" Class="mr-1" />
                                        Mark as Read
                                    </BbDropdownMenuItem>
                                    <BbDropdownMenuItem>
                                        <LucideIcon Name="archive" Size="16" Class="mr-1" />
                                        Archive
                                    </BbDropdownMenuItem>
                                </BbDropdownMenuGroup>
                                <BbDropdownMenuSeparator />
                                <BbDropdownMenuGroup>
                                    <BbDropdownMenuItem>
                                        <LucideIcon Name="clock" Size="16" Class="mr-1" />
                                        Snooze
                                    </BbDropdownMenuItem>
                                    <BbDropdownMenuItem>
                                        <LucideIcon Name="calendar-plus" Size="16" Class="mr-1" />
                                        Add to Calendar
                                    </BbDropdownMenuItem>
                                    <BbDropdownMenuItem>
                                        <LucideIcon Name="list-plus" Size="16" Class="mr-1" />
                                        Add to List
                                    </BbDropdownMenuItem>
                                </BbDropdownMenuGroup>
                                <BbDropdownMenuSeparator />
                                <BbDropdownMenuGroup>
                                    <BbDropdownMenuItem Class="text-destructive focus:text-destructive">
                                        <LucideIcon Name="trash-2" Size="16" Class="mr-1" />
                                        Trash
                                    </BbDropdownMenuItem>
                                </BbDropdownMenuGroup>
                            </BbDropdownMenuContent>
                        </BbDropdownMenu>
                    </BbButtonGroup>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/dropdown-integration.txt" />
            </div>
        </div>
    </section>

    <!-- Button Group with Popover -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Button Group with Popover</h2>
            <p class="text-muted-foreground">
                Integrate Popover components with ButtonGroup for rich interactive UIs.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Copilot Agent Tasks Example -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Agent Tasks Popover</h3>
                <BbButtonGroup>
                    <BbButton Variant="ButtonVariant.Outline">
                        <LucideIcon Name="bot" Size="16" />
                        Copilot
                    </BbButton>
                    <BbPopover>
                        <BbPopoverTrigger>
                            <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" Class="!rounded-l-none" AriaLabel="Open Popover">
                                <LucideIcon Name="chevron-down" Size="16" />
                            </BbButton>
                        </BbPopoverTrigger>
                        <BbPopoverContent Align="@PopoverAlign.End" Class="rounded-xl p-0 text-sm w-80">
                            <div class="px-3 py-2">
                                <div class="text-sm font-medium">Agent Tasks</div>
                            </div>
                            <BbSeparator />
                            <div class="p-3 text-sm space-y-2">
                                <textarea
                                    placeholder="Describe your task in natural language."
                                    rows="2"
                                    class="flex min-h-[60px] w-full rounded-md border border-input bg-background px-2 py-1.5 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none"></textarea>
                                <p class="font-medium text-sm">Start a new task with Copilot</p>
                                <p class="text-muted-foreground text-xs leading-relaxed">
                                    Describe your task in natural language. Copilot will work in the
                                    background and open a pull request for your review.
                                </p>
                            </div>
                        </BbPopoverContent>
                    </BbPopover>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/popover-integration.txt" />
            </div>
        </div>
    </section>

    <!-- Button Group with Select -->
    <section class="space-y-6">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Button Group with Select</h2>
            <p class="text-muted-foreground">
                Combine Select dropdowns with Input and Button components for rich form controls.
            </p>
        </div>

        <div class="space-y-6">
            <!-- Currency Converter Example -->
            <div class="space-y-2">
                <h3 class="text-sm font-medium">Currency Converter</h3>
                <BbButtonGroup>
                    <BbButtonGroup>
                        <BbSelect @bind-Value="selectedCurrency" TValue="string">
                            <BbSelectTrigger Class="font-mono w-[70px] !gap-1 px-2 !rounded-r-none">
                                <BbSelectValue Placeholder="$" />
                            </BbSelectTrigger>
                            <BbSelectContent Class="min-w-36">
                                <BbSelectItem Value="@("$")" Text="$ US Dollar" TValue="string">
                                    <span class="font-mono">$</span> <span class="text-muted-foreground">US Dollar</span>
                                </BbSelectItem>
                                <BbSelectItem Value="@("€")" Text="€ Euro" TValue="string">
                                    <span class="font-mono">€</span> <span class="text-muted-foreground">Euro</span>
                                </BbSelectItem>
                                <BbSelectItem Value="@("£")" Text="£ British Pound" TValue="string">
                                    <span class="font-mono">£</span> <span class="text-muted-foreground">British Pound</span>
                                </BbSelectItem>
                            </BbSelectContent>
                        </BbSelect>
                        <BbInput Type="InputType.Text" Placeholder="10.00" Class="!rounded-l-none !border-l-0 !focus-visible:ring-1 !focus-visible:ring-offset-0" />
                    </BbButtonGroup>
                    <BbButtonGroup>
                        <BbButton Variant="ButtonVariant.Outline" Size="ButtonSize.Icon" AriaLabel="Send">
                            <LucideIcon Name="arrow-right" Size="16" />
                        </BbButton>
                    </BbButtonGroup>
                </BbButtonGroup>

                <CodeBlock Source="Components/ButtonGroup/select-integration.txt" />
            </div>
        </div>
    </section>

    <AccessibilityList>
        <AriaAttributes>
            <AccessibilityItem>
                Uses proper role="group" for screen readers
            </AccessibilityItem>
            <AccessibilityItem>
                Icon-only buttons should have aria-label attributes
            </AccessibilityItem>
            <AccessibilityItem>
                Focus states are clearly visible with ring indicators
            </AccessibilityItem>
        </AriaAttributes>
        <KeyboardNavigation>
            <KeyboardShortcutItem Description="Navigate between buttons">
                <BbKbd>Tab</BbKbd> / <BbKbd>Shift+Tab</BbKbd>
            </KeyboardShortcutItem>
            <KeyboardShortcutItem Description="Activate focused button">
                <BbKbd>Enter</BbKbd> / <BbKbd>Space</BbKbd>
            </KeyboardShortcutItem>
        </KeyboardNavigation>
    </AccessibilityList>
</div>

@code {
    private string? selectedCurrency = "$";
}
