@page "/components/date-range-picker"
<PageTitle>DateRangePicker Component - Blazor Blueprint</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
            <h1 class="text-4xl font-bold tracking-tight">DateRangePicker Component</h1>
            <p class="text-xl text-muted-foreground">
                A date range selection component with two-month view, presets, and range constraints.
            </p>
        </div>
    </div>

    <!-- Basic Example -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Basic Example</h2>
            <p class="text-sm text-muted-foreground">
                Two-month view with preset date ranges.
            </p>
        </div>
        <BbDateRangePicker @bind-Value="_basicRange" />
        <p class="text-sm text-muted-foreground">
            @if (_basicRange != null)
            {
                @($"Selected: {_basicRange.Start:MMM d, yyyy} - {_basicRange.End:MMM d, yyyy} ({_basicRange.Days} days)")
            }
            else
            {
                @("No range selected")
            }
        </p>
        <CodeBlock Source="Components/DateRangePicker/basic.txt" />
    </div>

    <!-- Single Month View -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Single Month View</h2>
            <p class="text-sm text-muted-foreground">
                Compact single calendar view.
            </p>
        </div>
        <BbDateRangePicker @bind-Value="_singleMonth" ShowTwoMonths="false" />
        <p class="text-sm text-muted-foreground">
            @if (_singleMonth != null)
            {
                @($"Selected: {_singleMonth.Days} days")
            }
        </p>
        <CodeBlock Source="Components/DateRangePicker/single-month.txt" />
    </div>

    <!-- Without Presets -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Without Presets</h2>
            <p class="text-sm text-muted-foreground">
                Calendar only, no quick select presets.
            </p>
        </div>
        <BbDateRangePicker @bind-Value="_noPresets" ShowPresets="false" />
        <CodeBlock Source="Components/DateRangePicker/without-presets.txt" />
    </div>

    <!-- With Date Constraints -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">With Date Constraints</h2>
            <p class="text-sm text-muted-foreground">
                Only dates within the last 30 days are selectable.
            </p>
        </div>
        <BbDateRangePicker @bind-Value="_constrained"
                         MinDate="@DateTime.Today.AddDays(-30)"
                         MaxDate="@DateTime.Today" />
        <CodeBlock Source="Components/DateRangePicker/constraints.txt" />
    </div>

    <!-- Min/Max Days -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Min/Max Days Constraint</h2>
            <p class="text-sm text-muted-foreground">
                Range must be between 3 and 14 days.
            </p>
        </div>
        <BbDateRangePicker @bind-Value="_minMaxDays" MinDays="3" MaxDays="14" />
        <p class="text-sm text-muted-foreground">
            @if (_minMaxDays != null)
            {
                @($"Selected: {_minMaxDays.Days} days (min: 3, max: 14)")
            }
        </p>
        <CodeBlock Source="Components/DateRangePicker/min-max-days.txt" />
    </div>

    <!-- With Disabled Dates -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Disabled Weekends</h2>
            <p class="text-sm text-muted-foreground">
                Saturdays and Sundays are disabled.
            </p>
        </div>
        <BbDateRangePicker @bind-Value="_noWeekends"
                         DisabledDates="@(date => date.DayOfWeek == DayOfWeek.Saturday || date.DayOfWeek == DayOfWeek.Sunday)" />
        <CodeBlock Source="Components/DateRangePicker/disabled-weekends.txt" />
    </div>

    <!-- Pre-selected Value -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Pre-selected Value</h2>
            <p class="text-sm text-muted-foreground">
                Initialized with last 7 days.
            </p>
        </div>
        <BbDateRangePicker @bind-Value="_preselected" />
        <p class="text-sm text-muted-foreground">
            @if (_preselected != null)
            {
                @($"Selected: {_preselected.Start:MMM d} - {_preselected.End:MMM d}")
            }
        </p>
        <CodeBlock Source="Components/DateRangePicker/preselected.txt" />
    </div>

    <!-- Custom Date Format -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Custom Date Format</h2>
            <p class="text-sm text-muted-foreground">
                Using ISO date format.
            </p>
        </div>
        <BbDateRangePicker @bind-Value="_customFormat" DateFormat="yyyy-MM-dd" />
        <CodeBlock Source="Components/DateRangePicker/custom-format.txt" />
    </div>

    <!-- Custom Placeholder -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Custom Placeholder</h2>
        </div>
        <BbDateRangePicker @bind-Value="_placeholder" Placeholder="Choose booking dates" />
        <CodeBlock Source="Components/DateRangePicker/custom-placeholder.txt" />
    </div>

    <!-- Monday First -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Monday First</h2>
            <p class="text-sm text-muted-foreground">
                Week starts on Monday.
            </p>
        </div>
        <BbDateRangePicker @bind-Value="_mondayFirst" FirstDayOfWeek="DayOfWeek.Monday" />
        <CodeBlock Source="Components/DateRangePicker/monday-first.txt" />
    </div>

    <!-- Disabled -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Disabled</h2>
        </div>
        <BbDateRangePicker Value="@(new DateRange(DateTime.Today.AddDays(-7), DateTime.Today))" Disabled="true" />
        <CodeBlock Source="Components/DateRangePicker/disabled.txt" />
    </div>

    <!-- API Reference -->
    <section class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">API Reference</h2>
            <p class="text-muted-foreground">Component properties and parameters.</p>
        </div>

        <div class="space-y-4">
            <ApiReference ComponentName="DateRangePicker">
                <ApiParameter Name="Value" Type="DateRange?">
                    Selected date range (Start, End).
                </ApiParameter>
                <ApiParameter Name="MinDate" Type="DateTime?">
                    Minimum selectable date.
                </ApiParameter>
                <ApiParameter Name="MaxDate" Type="DateTime?">
                    Maximum selectable date.
                </ApiParameter>
                <ApiParameter Name="MinDays" Type="int?">
                    Minimum range span in days.
                </ApiParameter>
                <ApiParameter Name="MaxDays" Type="int?">
                    Maximum range span in days.
                </ApiParameter>
                <ApiParameter Name="DisabledDates" Type="Func&lt;DateTime, bool&gt;?">
                    Function to disable specific dates.
                </ApiParameter>
                <ApiParameter Name="ShowTwoMonths" Type="bool" Default="true">
                    Show two calendars side by side.
                </ApiParameter>
                <ApiParameter Name="ShowPresets" Type="bool" Default="true">
                    Show quick select presets.
                </ApiParameter>
                <ApiParameter Name="FirstDayOfWeek" Type="DayOfWeek" Default="Sunday">
                    First day of week.
                </ApiParameter>
                <ApiParameter Name="DateFormat" Type="string" Default="&quot;MMM d, yyyy&quot;">
                    Display format.
                </ApiParameter>
                <ApiParameter Name="Disabled" Type="bool" Default="false">
                    Disables the picker.
                </ApiParameter>
            </ApiReference>

            <ApiReference ComponentName="DateRange">
                <ApiParameter Name="Start" Type="DateTime">
                    Start date of range.
                </ApiParameter>
                <ApiParameter Name="End" Type="DateTime">
                    End date of range.
                </ApiParameter>
                <ApiParameter Name="Days" Type="int">
                    Number of days (inclusive).
                </ApiParameter>
                <ApiParameter Name="Contains(date)" Type="bool">
                    Check if date is within range.
                </ApiParameter>
            </ApiReference>

            <div class="border rounded-lg p-6">
                <h3 class="font-mono text-sm font-semibold mb-2">Preset Ranges</h3>
                <div class="text-sm text-muted-foreground">
                    <p>Today, Yesterday, Last 7 days, Last 30 days, This month, Last month</p>
                </div>
            </div>
        </div>
    </section>
</div>

@code {
    private DateRange? _basicRange;
    private DateRange? _singleMonth;
    private DateRange? _noPresets;
    private DateRange? _constrained;
    private DateRange? _minMaxDays;
    private DateRange? _noWeekends;
    private DateRange? _preselected = new DateRange(DateTime.Today.AddDays(-6), DateTime.Today);
    private DateRange? _customFormat;
    private DateRange? _placeholder;
    private DateRange? _mondayFirst;
}
