@page "/components/dropdown-menu"

<PageTitle>Dropdown Menu Component - Blazor Blueprint</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
        <h1 class="text-4xl font-bold tracking-tight">Dropdown Menu Component</h1>
        <p class="text-xl text-muted-foreground">
            Displays a menu of actions or options triggered by a button.
        </p>
        </div>
    </div>

    <div class="space-y-6">
    </div>

    <!-- Basic Dropdown -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">Basic Dropdown Menu</h2>
        <p class="text-sm text-muted-foreground">
            A simple dropdown menu with items.
        </p>

        <div class="flex items-start gap-2">
            <BbDropdownMenu>
                <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                    Open Menu
                </BbDropdownMenuTrigger>
                <BbDropdownMenuContent>
                    <BbDropdownMenuItem OnClick="@(() => HandleBasicAction("Profile"))">Profile</BbDropdownMenuItem>
                    <BbDropdownMenuItem OnClick="@(() => HandleBasicAction("Settings"))">Settings</BbDropdownMenuItem>
                    <BbDropdownMenuItem OnClick="@(() => HandleBasicAction("Billing"))">Billing</BbDropdownMenuItem>
                </BbDropdownMenuContent>
            </BbDropdownMenu>
            @if (!string.IsNullOrEmpty(basicAction))
            {
                <p class="text-sm">Last action: <strong>@basicAction</strong></p>
            }
        </div>
        <CodeBlock Source="Components/DropdownMenu/basic.txt" />
    </section>

    <!-- With Labels and Separators -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">With Labels and Separators</h2>
        <p class="text-sm text-muted-foreground">
            Organize menu items with labels and visual separators.
        </p>

        <div class="flex items-start gap-2">
            <BbDropdownMenu>
                <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                    My Account
                </BbDropdownMenuTrigger>
                <BbDropdownMenuContent>
                    <BbDropdownMenuLabel>My Account</BbDropdownMenuLabel>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuItem OnClick="@(() => HandleLabelsAction("Profile"))">Profile</BbDropdownMenuItem>
                    <BbDropdownMenuItem OnClick="@(() => HandleLabelsAction("Billing"))">Billing</BbDropdownMenuItem>
                    <BbDropdownMenuItem OnClick="@(() => HandleLabelsAction("Settings"))">Settings</BbDropdownMenuItem>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuItem Class="text-destructive" OnClick="@(() => HandleLabelsAction("Logout"))">Logout</BbDropdownMenuItem>
                </BbDropdownMenuContent>
            </BbDropdownMenu>
            @if (!string.IsNullOrEmpty(labelsAction))
            {
                <p class="text-sm">Last action: <strong>@labelsAction</strong></p>
            }
        </div>
        <CodeBlock Source="Components/DropdownMenu/labels-separators.txt" />
    </section>

    <!-- With Groups -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">Grouped Items</h2>
        <p class="text-sm text-muted-foreground">
            Group related menu items together.
        </p>

        <div class="flex items-start gap-2">
            <BbDropdownMenu>
                <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                    Actions
                </BbDropdownMenuTrigger>
                <BbDropdownMenuContent>
                    <BbDropdownMenuLabel>File Operations</BbDropdownMenuLabel>
                    <BbDropdownMenuGroup>
                        <BbDropdownMenuItem OnClick="@(() => HandleGroupsAction("New File"))">New File</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleGroupsAction("Open"))">Open</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleGroupsAction("Save"))">Save</BbDropdownMenuItem>
                    </BbDropdownMenuGroup>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuLabel>Edit Operations</BbDropdownMenuLabel>
                    <BbDropdownMenuGroup>
                        <BbDropdownMenuItem OnClick="@(() => HandleGroupsAction("Cut"))">Cut</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleGroupsAction("Copy"))">Copy</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleGroupsAction("Paste"))">Paste</BbDropdownMenuItem>
                    </BbDropdownMenuGroup>
                </BbDropdownMenuContent>
            </BbDropdownMenu>
            @if (!string.IsNullOrEmpty(groupsAction))
            {
                <p class="text-sm">Last action: <strong>@groupsAction</strong></p>
            }
        </div>
        <CodeBlock Source="Components/DropdownMenu/grouped.txt" />
    </section>

    <!-- Alignment Options -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">Alignment Options</h2>
        <p class="text-sm text-muted-foreground">
            Control how the dropdown aligns relative to its trigger (Start, Center, End). Test with small icon buttons to see alignment clearly.
        </p>

        <div class="flex flex-wrap gap-4 items-start">
            <div class="flex flex-col gap-2 items-start">
                <BbDropdownMenu>
                    <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10" aria-label="Start aligned menu">
                        <LucideIcon Name="menu" Size="16" />
                    </BbDropdownMenuTrigger>
                    <BbDropdownMenuContent Align="@PopoverAlign.Start">
                        <BbDropdownMenuLabel>Start Alignment</BbDropdownMenuLabel>
                        <BbDropdownMenuSeparator />
                        <BbDropdownMenuItem OnClick="@(() => HandleMenuAction("start", "Item 1"))">Item 1</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleMenuAction("start", "Item 2"))">Item 2</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleMenuAction("start", "Item 3"))">Item 3</BbDropdownMenuItem>
                    </BbDropdownMenuContent>
                </BbDropdownMenu>
                @if (GetMenuAction("start") != null)
                {
                    <p class="text-sm">Start: <strong>@GetMenuAction("start")</strong></p>
                }
            </div>

            <div class="flex flex-col gap-2 items-start">
                <BbDropdownMenu>
                    <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10" aria-label="Center aligned menu">
                        <LucideIcon Name="menu" Size="16" />
                    </BbDropdownMenuTrigger>
                    <BbDropdownMenuContent Align="@PopoverAlign.Center">
                        <BbDropdownMenuLabel>Center Alignment</BbDropdownMenuLabel>
                        <BbDropdownMenuSeparator />
                        <BbDropdownMenuItem OnClick="@(() => HandleMenuAction("center", "Item 1"))">Item 1</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleMenuAction("center", "Item 2"))">Item 2</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleMenuAction("center", "Item 3"))">Item 3</BbDropdownMenuItem>
                    </BbDropdownMenuContent>
                </BbDropdownMenu>
                @if (GetMenuAction("center") != null)
                {
                    <p class="text-sm">Center: <strong>@GetMenuAction("center")</strong></p>
                }
            </div>

            <div class="flex flex-col gap-2 items-start">
                <BbDropdownMenu>
                    <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 w-10" aria-label="End aligned menu">
                        <LucideIcon Name="menu" Size="16" />
                    </BbDropdownMenuTrigger>
                    <BbDropdownMenuContent Align="@PopoverAlign.End">
                        <BbDropdownMenuLabel>End Alignment</BbDropdownMenuLabel>
                        <BbDropdownMenuSeparator />
                        <BbDropdownMenuItem OnClick="@(() => HandleMenuAction("end", "Item 1"))">Item 1</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleMenuAction("end", "Item 2"))">Item 2</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleMenuAction("end", "Item 3"))">Item 3</BbDropdownMenuItem>
                    </BbDropdownMenuContent>
                </BbDropdownMenu>
                @if (GetMenuAction("end") != null)
                {
                    <p class="text-sm">End: <strong>@GetMenuAction("end")</strong></p>
                }
            </div>
        </div>
        <CodeBlock Source="Components/DropdownMenu/alignment.txt" />
    </section>

    <!-- Disabled Items -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">Disabled Items</h2>
        <p class="text-sm text-muted-foreground">
            Menu items can be disabled to prevent interaction.
        </p>

        <div class="flex items-start gap-2">
            <BbDropdownMenu>
                <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                    Edit Menu
                </BbDropdownMenuTrigger>
                <BbDropdownMenuContent>
                    <BbDropdownMenuItem OnClick="@(() => HandleDisabledAction("Cut"))">Cut</BbDropdownMenuItem>
                    <BbDropdownMenuItem OnClick="@(() => HandleDisabledAction("Copy"))">Copy</BbDropdownMenuItem>
                    <BbDropdownMenuItem Disabled="true" OnClick="@(() => HandleDisabledAction("Paste"))">Paste (Disabled)</BbDropdownMenuItem>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuItem OnClick="@(() => HandleDisabledAction("Select All"))">Select All</BbDropdownMenuItem>
                    <BbDropdownMenuItem Disabled="true" OnClick="@(() => HandleDisabledAction("Delete"))">Delete (Disabled)</BbDropdownMenuItem>
                </BbDropdownMenuContent>
            </BbDropdownMenu>
            @if (!string.IsNullOrEmpty(disabledAction))
            {
                <p class="text-sm">Last action: <strong>@disabledAction</strong></p>
            }
        </div>
        <CodeBlock Source="Components/DropdownMenu/disabled.txt" />
    </section>

    <!-- Checkbox Items -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">Checkbox Items</h2>
        <p class="text-sm text-muted-foreground">
            Toggle menu items that maintain checked state. The menu stays open when toggling checkboxes.
        </p>

        <div class="flex items-start gap-4">
            <BbDropdownMenu>
                <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                    View Options
                </BbDropdownMenuTrigger>
                <BbDropdownMenuContent>
                    <BbDropdownMenuLabel>Appearance</BbDropdownMenuLabel>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuCheckboxItem @bind-Checked="showStatusBar">
                        Status Bar
                    </BbDropdownMenuCheckboxItem>
                    <BbDropdownMenuCheckboxItem @bind-Checked="showActivityBar">
                        Activity Bar
                    </BbDropdownMenuCheckboxItem>
                    <BbDropdownMenuCheckboxItem @bind-Checked="showPanel">
                        Panel
                    </BbDropdownMenuCheckboxItem>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuCheckboxItem @bind-Checked="fullScreen">
                        Full Screen
                    </BbDropdownMenuCheckboxItem>
                    <BbDropdownMenuCheckboxItem Disabled="true" Checked="false">
                        Word Wrap (Disabled)
                    </BbDropdownMenuCheckboxItem>
                </BbDropdownMenuContent>
            </BbDropdownMenu>

            <div class="text-sm space-y-1">
                <p>Status Bar: <strong>@(showStatusBar ? "Visible" : "Hidden")</strong></p>
                <p>Activity Bar: <strong>@(showActivityBar ? "Visible" : "Hidden")</strong></p>
                <p>Panel: <strong>@(showPanel ? "Visible" : "Hidden")</strong></p>
                <p>Full Screen: <strong>@(fullScreen ? "On" : "Off")</strong></p>
            </div>
        </div>
        <CodeBlock Source="Components/DropdownMenu/checkbox.txt" />
    </section>

    <!-- Icon Shorthand -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">Icon Shorthand</h2>
        <p class="text-sm text-muted-foreground">
            Use the <code class="bg-muted px-1 py-0.5 rounded">Icon</code> parameter to add an icon before the menu item content without manual markup.
        </p>

        <div class="flex items-start gap-2">
            <BbDropdownMenu>
                <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                    File Actions
                </BbDropdownMenuTrigger>
                <BbDropdownMenuContent>
                    <BbDropdownMenuItem>
                        <Icon><LucideIcon Name="pencil" Size="16" /></Icon>
                        <ChildContent>Edit</ChildContent>
                    </BbDropdownMenuItem>
                    <BbDropdownMenuItem>
                        <Icon><LucideIcon Name="copy" Size="16" /></Icon>
                        <ChildContent>Duplicate</ChildContent>
                    </BbDropdownMenuItem>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuItem Class="text-destructive">
                        <Icon><LucideIcon Name="trash-2" Size="16" /></Icon>
                        <ChildContent>Delete</ChildContent>
                    </BbDropdownMenuItem>
                </BbDropdownMenuContent>
            </BbDropdownMenu>
        </div>
        <CodeBlock Source="Components/DropdownMenu/icon-shorthand.txt" />
    </section>

    <!-- Link Items -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">Link Items</h2>
        <p class="text-sm text-muted-foreground">
            Use the <code class="bg-muted px-1 py-0.5 rounded">Href</code> parameter to render menu items as anchor elements for navigation.
        </p>

        <div class="flex items-start gap-2">
            <BbDropdownMenu>
                <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                    Resources
                </BbDropdownMenuTrigger>
                <BbDropdownMenuContent>
                    <BbDropdownMenuLabel>Pages</BbDropdownMenuLabel>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuItem Href="/components/select">Select Component</BbDropdownMenuItem>
                    <BbDropdownMenuItem Href="/components/switch">Switch Component</BbDropdownMenuItem>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuLabel>External</BbDropdownMenuLabel>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuItem Href="https://github.com" Target="_blank">
                        GitHub (new tab)
                    </BbDropdownMenuItem>
                </BbDropdownMenuContent>
            </BbDropdownMenu>
        </div>

        <CodeBlock Source="Components/DropdownMenu/link.txt" />
    </section>

    <!-- AsChild Pattern -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">AsChild Pattern</h2>
        <p class="text-sm text-muted-foreground">
            Use AsChild to compose triggers with your own styled Button components.
        </p>

        <div class="grid md:grid-cols-2 gap-6">
            <!-- Without AsChild -->
            <div class="space-y-3 p-4 border rounded-lg">
                <h3 class="text-lg font-medium">Without AsChild</h3>
                <p class="text-sm text-muted-foreground">
                    DropdownMenuTrigger renders its own button with inline classes.
                </p>
                <BbDropdownMenu>
                    <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                        Open Menu
                    </BbDropdownMenuTrigger>
                    <BbDropdownMenuContent>
                        <BbDropdownMenuItem>Profile</BbDropdownMenuItem>
                        <BbDropdownMenuItem>Settings</BbDropdownMenuItem>
                    </BbDropdownMenuContent>
                </BbDropdownMenu>
            </div>

            <!-- With AsChild -->
            <div class="space-y-3 p-4 border rounded-lg">
                <h3 class="text-lg font-medium">With AsChild</h3>
                <p class="text-sm text-muted-foreground">
                    Button component receives trigger behavior via TriggerContext.
                </p>
                <BbDropdownMenu>
                    <BbDropdownMenuTrigger>
                        <BbButton Variant="ButtonVariant.Outline">
                            Actions
                            <LucideIcon Name="chevron-down" Size="16" />
                        </BbButton>
                    </BbDropdownMenuTrigger>
                    <BbDropdownMenuContent>
                        <BbDropdownMenuLabel>Actions</BbDropdownMenuLabel>
                        <BbDropdownMenuSeparator />
                        <BbDropdownMenuItem>
                            <LucideIcon Name="pencil" Size="16" />
                            Edit
                        </BbDropdownMenuItem>
                        <BbDropdownMenuItem>
                            <LucideIcon Name="copy" Size="16" />
                            Duplicate
                        </BbDropdownMenuItem>
                        <BbDropdownMenuSeparator />
                        <BbDropdownMenuItem Class="text-destructive">
                            <LucideIcon Name="trash-2" Size="16" />
                            Delete
                        </BbDropdownMenuItem>
                    </BbDropdownMenuContent>
                </BbDropdownMenu>
            </div>
        </div>

        <CodeBlock Source="Components/DropdownMenu/as-child.txt" />
    </section>

    <!-- Complex Example -->
    <section class="space-y-4">
        <h2 class="text-2xl font-semibold">Complex Example</h2>
        <p class="text-sm text-muted-foreground">
            Combining all features: labels, separators, groups, shortcuts, and disabled items.
        </p>

        <div class="flex items-start gap-2">
            <BbDropdownMenu>
                <BbDropdownMenuTrigger AsChild="false" Class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2">
                    Complete Menu
                </BbDropdownMenuTrigger>
                <BbDropdownMenuContent Class="w-56">
                    <BbDropdownMenuLabel>My Account</BbDropdownMenuLabel>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuGroup>
                        <BbDropdownMenuItem OnClick="@(() => HandleComplexAction("Profile"))">
                            Profile
                            <BbDropdownMenuShortcut>⇧⌘P</BbDropdownMenuShortcut>
                        </BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleComplexAction("Billing"))">
                            Billing
                            <BbDropdownMenuShortcut>⌘B</BbDropdownMenuShortcut>
                        </BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleComplexAction("Settings"))">
                            Settings
                            <BbDropdownMenuShortcut>⌘S</BbDropdownMenuShortcut>
                        </BbDropdownMenuItem>
                        <BbDropdownMenuItem Disabled="true" OnClick="@(() => HandleComplexAction("Keyboard shortcuts"))">
                            Keyboard shortcuts
                            <BbDropdownMenuShortcut>⌘K</BbDropdownMenuShortcut>
                        </BbDropdownMenuItem>
                    </BbDropdownMenuGroup>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuGroup>
                        <BbDropdownMenuItem OnClick="@(() => HandleComplexAction("Team"))">Team</BbDropdownMenuItem>
                        <BbDropdownMenuItem OnClick="@(() => HandleComplexAction("Invite users"))">
                            Invite users
                            <BbDropdownMenuShortcut>⌘I</BbDropdownMenuShortcut>
                        </BbDropdownMenuItem>
                    </BbDropdownMenuGroup>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuItem Href="https://github.com" Target="_blank">GitHub</BbDropdownMenuItem>
                    <BbDropdownMenuItem Disabled="true" OnClick="@(() => HandleComplexAction("Support"))">Support</BbDropdownMenuItem>
                    <BbDropdownMenuSeparator />
                    <BbDropdownMenuItem OnClick="@(() => HandleComplexAction("Log out"))">
                        Log out
                        <BbDropdownMenuShortcut>⇧⌘Q</BbDropdownMenuShortcut>
                    </BbDropdownMenuItem>
                </BbDropdownMenuContent>
            </BbDropdownMenu>
            @if (!string.IsNullOrEmpty(complexAction))
            {
                <p class="text-sm">Last action: <strong>@complexAction</strong></p>
            }
        </div>
        <CodeBlock Source="Components/DropdownMenu/complex.txt" />
    </section>

    <AccessibilityList>
        <AriaAttributes>
            <AccessibilityItem>Uses role="menu" and role="menuitem" for screen readers</AccessibilityItem>
            <AccessibilityItem>aria-expanded indicates dropdown open state</AccessibilityItem>
            <AccessibilityItem>Disabled items are marked with aria-disabled</AccessibilityItem>
            <AccessibilityItem>Checkbox items use role="menuitemcheckbox" with aria-checked</AccessibilityItem>
        </AriaAttributes>
        <KeyboardNavigation>
            <KeyboardShortcutItem Description="Open dropdown / activate item">
                <BbKbd>Enter</BbKbd> / <BbKbd>Space</BbKbd>
            </KeyboardShortcutItem>
            <KeyboardShortcutItem Description="Navigate items">
                <BbKbd>ArrowUp</BbKbd> / <BbKbd>ArrowDown</BbKbd>
            </KeyboardShortcutItem>
            <KeyboardShortcutItem Description="Close dropdown">
                <BbKbd>Escape</BbKbd>
            </KeyboardShortcutItem>
        </KeyboardNavigation>
    </AccessibilityList>

    <!-- API Reference -->
    <section class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">API Reference</h2>
            <p class="text-muted-foreground">Component properties and parameters.</p>
        </div>
        <div class="space-y-4">
            <ApiReference ComponentName="DropdownMenuContent">
                <ApiParameter Name="Side" Type="PopoverSide" Default="Bottom">
                    Preferred side for positioning.
                </ApiParameter>
                <ApiParameter Name="Align" Type="PopoverAlign" Default="Start">
                    Alignment relative to trigger.
                </ApiParameter>
                <ApiParameter Name="Offset" Type="int" Default="4">
                    Offset distance from the trigger in pixels.
                </ApiParameter>
                <ApiParameter Name="Loop" Type="bool" Default="true">
                    Whether to enable keyboard loop navigation.
                </ApiParameter>
                <ApiParameter Name="CloseOnEscape" Type="bool" Default="true">
                    Whether pressing Escape closes the dropdown.
                </ApiParameter>
                <ApiParameter Name="CloseOnClickOutside" Type="bool" Default="true">
                    Whether clicking outside closes the dropdown.
                </ApiParameter>
            </ApiReference>

            <ApiReference ComponentName="DropdownMenuItem">
                <ApiParameter Name="OnClick" Type="EventCallback&lt;MouseEventArgs&gt;">
                    Click handler.
                </ApiParameter>
                <ApiParameter Name="Disabled" Type="bool" Default="false">
                    Disables the item.
                </ApiParameter>
                <ApiParameter Name="Href" Type="string?">
                    URL to navigate to. Renders item as an anchor element.
                </ApiParameter>
                <ApiParameter Name="Target" Type="string?">
                    Anchor target attribute (e.g., "_blank"). Only applies when Href is set.
                </ApiParameter>
                <ApiParameter Name="CloseOnSelect" Type="bool" Default="true">
                    Whether to close the dropdown when this item is selected.
                </ApiParameter>
            </ApiReference>

            <ApiReference ComponentName="DropdownMenuCheckboxItem">
                <ApiParameter Name="Checked" Type="bool">
                    Whether the checkbox is checked. Use @@bind-Checked for two-way binding.
                </ApiParameter>
                <ApiParameter Name="Disabled" Type="bool" Default="false">
                    Disables the checkbox item.
                </ApiParameter>
                <ApiParameter Name="CloseOnSelect" Type="bool" Default="false">
                    Whether to close the dropdown when toggled.
                </ApiParameter>
            </ApiReference>

            <ApiReference ComponentName="DropdownMenuTrigger">
                <ApiParameter Name="AsChild" Type="bool" Default="true">
                    When true, passes trigger behavior to child components instead of rendering its own button.
                </ApiParameter>
                <ApiParameter Name="ActiveClass" Type="string?">
                    CSS classes applied when the dropdown is open. Default is <code>null</code> (no active style).
                    Use to highlight the trigger (e.g., <code>"bg-sidebar-accent"</code> in sidebars).
                </ApiParameter>
            </ApiReference>
        </div>
    </section>
</div>

@code {
    // Independent state for each menu section
    private string? basicAction;
    private string? labelsAction;
    private string? groupsAction;
    private string? disabledAction;
    private string? complexAction;
    private Dictionary<string, string?> menuActions = new();

    // Checkbox items state
    private bool showStatusBar = true;
    private bool showActivityBar = true;
    private bool showPanel = false;
    private bool fullScreen = false;

    // Individual handlers for each section
    private void HandleBasicAction(string action) => basicAction = action;
    private void HandleLabelsAction(string action) => labelsAction = action;
    private void HandleGroupsAction(string action) => groupsAction = action;
    private void HandleDisabledAction(string action) => disabledAction = action;
    private void HandleComplexAction(string action) => complexAction = action;

    // Alignment section uses dictionary approach
    private void HandleMenuAction(string menuName, string action)
    {
        menuActions[menuName] = action;
    }

    private string? GetMenuAction(string menuName)
    {
        return menuActions.TryGetValue(menuName, out var action) ? action : null;
    }
}
