@page "/components/button"

<PageTitle>Button Component - Blazor Blueprint</PageTitle>

<div class="space-y-8 max-w-4xl">
    <div>
        <div class="space-y-3">
        <h1 class="text-4xl font-bold tracking-tight">Button Component</h1>
        <p class="text-xl text-muted-foreground">
            Displays a button or a component that looks like a button.
        </p>
        </div>
    </div>

    <div class="space-y-6">
    </div>

    <!-- All Variants -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Variants</h2>
            <p class="text-sm text-muted-foreground">
                All six button variants matching shadcn/ui design system.
            </p>
        </div>
        <div class="flex flex-wrap gap-4">
            <BbButton Variant="ButtonVariant.Default">Default</BbButton>
            <BbButton Variant="ButtonVariant.Destructive">Destructive</BbButton>
            <BbButton Variant="ButtonVariant.Outline">Outline</BbButton>
            <BbButton Variant="ButtonVariant.Secondary">Secondary</BbButton>
            <BbButton Variant="ButtonVariant.Ghost">Ghost</BbButton>
            <BbButton Variant="ButtonVariant.Link">Link</BbButton>
        </div>
        <CodeBlock Source="Components/Button/variants.txt" />
    </div>

    <!-- As Link -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">As Link</h2>
            <p class="text-sm text-muted-foreground">
                When <code>Href</code> is provided, the button renders as an <code>&lt;a&gt;</code> element for navigation while preserving all visual styling.
            </p>
        </div>
        <div class="space-y-4">
            <div class="space-y-2">
                <h3 class="text-lg font-medium">Navigation Links</h3>
                <div class="flex flex-wrap gap-4">
                    <BbButton Href="/components/badge">Go to Badge</BbButton>
                    <BbButton Href="https://github.com" Target="_blank" Variant="ButtonVariant.Outline" IconPosition="IconPosition.End">
                        <Icon>
                            <LucideIcon Name="external-link" Size="16" />
                        </Icon>
                        <ChildContent>GitHub</ChildContent>
                    </BbButton>
                </div>
            </div>
            <div class="space-y-2">
                <h3 class="text-lg font-medium">Variants as Links</h3>
                <div class="flex flex-wrap gap-4">
                    <BbButton Href="/components/badge" Variant="ButtonVariant.Default">Default</BbButton>
                    <BbButton Href="/components/badge" Variant="ButtonVariant.Destructive">Destructive</BbButton>
                    <BbButton Href="/components/badge" Variant="ButtonVariant.Outline">Outline</BbButton>
                    <BbButton Href="/components/badge" Variant="ButtonVariant.Secondary">Secondary</BbButton>
                    <BbButton Href="/components/badge" Variant="ButtonVariant.Ghost">Ghost</BbButton>
                    <BbButton Href="/components/badge" Variant="ButtonVariant.Link">Link</BbButton>
                </div>
            </div>
            <div class="space-y-2">
                <h3 class="text-lg font-medium">Disabled Links</h3>
                <div class="flex flex-wrap gap-4">
                    <BbButton Href="/components/badge" Disabled="true">Disabled Link</BbButton>
                    <BbButton Href="/components/badge" Disabled="true" Variant="ButtonVariant.Outline">Disabled Outline Link</BbButton>
                </div>
            </div>
        </div>
        <CodeBlock Source="Components/Button/as-link.txt" />
    </div>

    <!-- All Sizes -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Sizes</h2>
            <p class="text-sm text-muted-foreground">
                Six size options including icon-only variants.
            </p>
        </div>
        <div class="flex flex-wrap gap-4 items-center">
            <BbButton Size="ButtonSize.Small">Small</BbButton>
            <BbButton Size="ButtonSize.Default">Default</BbButton>
            <BbButton Size="ButtonSize.Large">Large</BbButton>
            <BbButton Size="ButtonSize.Icon" AriaLabel="Icon button">
                <LucideIcon Name="arrow-right" Size="16" />
            </BbButton>
            <BbButton Size="ButtonSize.IconSmall" AriaLabel="Small icon button">
                <LucideIcon Name="minus" Size="14" />
            </BbButton>
            <BbButton Size="ButtonSize.IconLarge" AriaLabel="Large icon button">
                <LucideIcon Name="arrow-right" Size="18" />
            </BbButton>
        </div>
        <CodeBlock Source="Components/Button/sizes.txt" />
    </div>

    <!-- Icon Buttons with Text -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Buttons with Icons</h2>
            <p class="text-sm text-muted-foreground">
                Buttons with icons at start or end position (RTL-aware).
            </p>
        </div>
        <div class="space-y-4">
            <div class="space-y-2">
                <h3 class="text-lg font-medium">Icon at Start</h3>
                <div class="flex flex-wrap gap-4">
                    <BbButton IconPosition="IconPosition.Start">
                        <Icon>
                            <LucideIcon Name="arrow-left" Size="16" />
                        </Icon>
                        <ChildContent>Back</ChildContent>
                    </BbButton>
                    <BbButton IconPosition="IconPosition.Start" Variant="ButtonVariant.Outline">
                        <Icon>
                            <LucideIcon Name="search" Size="16" />
                        </Icon>
                        <ChildContent>Search</ChildContent>
                    </BbButton>
                </div>
            </div>
            <div class="space-y-2">
                <h3 class="text-lg font-medium">Icon at End</h3>
                <div class="flex flex-wrap gap-4">
                    <BbButton IconPosition="IconPosition.End">
                        <Icon>
                            <LucideIcon Name="arrow-right" Size="16" />
                        </Icon>
                        <ChildContent>Next</ChildContent>
                    </BbButton>
                    <BbButton IconPosition="IconPosition.End" Variant="ButtonVariant.Secondary">
                        <Icon>
                            <LucideIcon Name="external-link" Size="16" />
                        </Icon>
                        <ChildContent>External Link</ChildContent>
                    </BbButton>
                </div>
            </div>
        </div>
        <CodeBlock Source="Components/Button/with-icons.txt" />
    </div>

    <!-- RTL Support -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">RTL (Right-to-Left) Support</h2>
            <p class="text-sm text-muted-foreground">
                Icon positioning automatically flips in RTL layouts.
            </p>
        </div>
        <div class="flex gap-4 items-center mb-4">
            <button @onclick="ToggleRTL" class="px-4 py-2 rounded border border-input bg-background hover:bg-accent">
                Toggle RTL (@(isRTL ? "RTL" : "LTR"))
            </button>
        </div>
        <div dir="@(isRTL ? "rtl" : "ltr")" class="p-6 bg-card rounded-lg border">
            <div class="flex flex-wrap gap-4">
                <BbButton IconPosition="IconPosition.Start">
                    <Icon>
                        <LucideIcon Name="arrow-left" Size="16" />
                    </Icon>
                    <ChildContent>Back (Start)</ChildContent>
                </BbButton>
                <BbButton IconPosition="IconPosition.End">
                    <Icon>
                        <LucideIcon Name="arrow-right" Size="16" />
                    </Icon>
                    <ChildContent>Next (End)</ChildContent>
                </BbButton>
            </div>
            <p class="text-sm text-muted-foreground mt-4">
                Note: In RTL mode, "Start" icons appear on the right, "End" icons on the left.
            </p>
        </div>
        <CodeBlock Source="Components/Button/rtl.txt" />
    </div>

    <!-- Loading State -->
    <div class="space-y-4">
        <div class="space-y-2">
            <div class="flex items-center gap-2">
                <h2 class="text-2xl font-semibold">Loading State</h2>
                <span class="inline-flex items-center rounded-full bg-primary/10 px-2 py-0.5 text-xs font-medium text-primary ring-1 ring-inset ring-primary/20">v3</span>
            </div>
            <p class="text-sm text-muted-foreground">
                Use <code class="text-xs bg-muted px-1 py-0.5 rounded">Loading</code> to show a spinner and disable the button. Optionally provide <code class="text-xs bg-muted px-1 py-0.5 rounded">LoadingText</code> to replace the label during loading.
            </p>
        </div>
        <div class="space-y-4">
            <div class="flex flex-wrap gap-4">
                <BbButton Loading="true">Save Changes</BbButton>
                <BbButton Loading="true" LoadingText="Saving..." Variant="ButtonVariant.Outline">Save Changes</BbButton>
                <BbButton Loading="@_isLoading" OnClick="SimulateLoading">
                    @(_isLoading ? "Submitting..." : "Submit")
                </BbButton>
            </div>
            <div class="flex flex-wrap gap-4">
                <BbButton Loading="true" Variant="ButtonVariant.Destructive">Delete</BbButton>
                <BbButton Loading="true" Variant="ButtonVariant.Secondary">Processing</BbButton>
                <BbButton Loading="true" Variant="ButtonVariant.Ghost">Loading</BbButton>
            </div>
        </div>
        <CodeBlock Source="Components/Button/loading.txt" />
    </div>

    <!-- Disabled States -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Disabled State</h2>
            <p class="text-sm text-muted-foreground">
                Buttons with reduced opacity and not-allowed cursor.
            </p>
        </div>
        <div class="flex flex-wrap gap-4">
            <BbButton Disabled="true">Default Disabled</BbButton>
            <BbButton Variant="ButtonVariant.Destructive" Disabled="true">Destructive Disabled</BbButton>
            <BbButton Variant="ButtonVariant.Outline" Disabled="true">Outline Disabled</BbButton>
            <BbButton Variant="ButtonVariant.Secondary" Disabled="true">Secondary Disabled</BbButton>
            <BbButton Variant="ButtonVariant.Ghost" Disabled="true">Ghost Disabled</BbButton>
            <BbButton Variant="ButtonVariant.Link" Disabled="true">Link Disabled</BbButton>
        </div>
        <CodeBlock Source="Components/Button/disabled.txt" />
    </div>

    <!-- Cursor Behavior -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Cursor Behavior</h2>
            <p class="text-sm text-muted-foreground">
                Buttons show <code class="text-xs bg-muted px-1 py-0.5 rounded">cursor-pointer</code> by default and <code class="text-xs bg-muted px-1 py-0.5 rounded">cursor-not-allowed</code> when disabled.
            </p>
        </div>
        <div class="flex flex-wrap gap-4">
            <BbButton>Pointer Cursor</BbButton>
            <BbButton Disabled="true">Not-Allowed Cursor</BbButton>
            <BbButton Variant="ButtonVariant.Outline" Disabled="true">Disabled Outline</BbButton>
            <BbButton Variant="ButtonVariant.Link">Link Cursor</BbButton>
            <BbButton Href="/components/badge" Disabled="true">Disabled Link</BbButton>
        </div>
        <p class="text-sm text-muted-foreground">
            Use the <code class="text-xs bg-muted px-1 py-0.5 rounded">Class</code> parameter to override cursor behavior (e.g., <code class="text-xs bg-muted px-1 py-0.5 rounded">Class="cursor-default"</code>).
        </p>
        <div class="flex flex-wrap gap-4">
            <BbButton Class="cursor-default">Custom: Default Cursor</BbButton>
        </div>
        <CodeBlock Source="Components/Button/cursor.txt" />
    </div>

    <!-- Interactive Example -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Interactive</h2>
            <p class="text-sm text-muted-foreground">
                Click handlers and event callbacks.
            </p>
        </div>
        <div class="space-y-4">
            <div class="flex gap-4 items-center">
                <BbButton OnClick="HandleClick">Click Me</BbButton>
                <span class="text-sm">@clickMessage</span>
            </div>
            <div class="flex gap-4 items-center">
                <BbButton OnClick="IncrementCounter">
                    Clicked @counter times
                </BbButton>
                <BbButton Variant="ButtonVariant.Outline" OnClick="ResetCounter">Reset</BbButton>
            </div>
        </div>
        <CodeBlock Source="Components/Button/interactive.txt" />
    </div>

    <!-- Form Button Types -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Button Types</h2>
            <p class="text-sm text-muted-foreground">
                Different HTML button type attributes (submit, reset, button).
            </p>
        </div>
        <div class="flex flex-wrap gap-4">
            <BbButton Type="ButtonType.Button">Type: Button</BbButton>
            <BbButton Type="ButtonType.Submit" Variant="ButtonVariant.Default">Type: Submit</BbButton>
            <BbButton Type="ButtonType.Reset" Variant="ButtonVariant.Secondary">Type: Reset</BbButton>
        </div>
        <CodeBlock Source="Components/Button/types.txt" />
    </div>

    <!-- Custom Styling -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Custom Classes</h2>
            <p class="text-sm text-muted-foreground">
                Buttons with additional CSS classes via Class parameter.
            </p>
        </div>
        <div class="space-y-2">
            <BbButton Class="w-full">Full Width Button</BbButton>
            <div class="flex flex-wrap gap-4">
                <BbButton Class="shadow-lg">With Shadow</BbButton>
                <BbButton Variant="ButtonVariant.Outline" Class="border-2 border-blue-500">Custom Border</BbButton>
            </div>
        </div>
        <CodeBlock Source="Components/Button/custom-classes.txt" />
    </div>

    <!-- Custom Variants -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Custom Variants</h2>
            <p class="text-sm text-muted-foreground">
                Create your own variants using the <code class="text-xs bg-muted px-1 py-0.5 rounded">Class</code> parameter. TailwindMerge ensures your classes override the built-in variant styles.
            </p>
        </div>
        <div class="flex flex-wrap gap-4">
            <BbButton Class="bg-green-600 text-white hover:bg-green-700">Success</BbButton>
            <BbButton Class="bg-amber-500 text-white hover:bg-amber-600">Warning</BbButton>
            <BbButton Class="bg-gradient-to-r from-purple-500 to-pink-500 text-white hover:from-purple-600 hover:to-pink-600 border-0">Brand</BbButton>
        </div>
        <CodeBlock Source="Components/Button/custom-variants.txt" />
    </div>

    <!-- All Variants in Dark Mode -->
    <div class="space-y-4">
        <div class="space-y-2">
            <h2 class="text-2xl font-semibold">Dark Mode</h2>
            <p class="text-sm text-muted-foreground">
                Toggle dark mode above to test all variants in dark theme.
            </p>
        </div>
        <div class="p-6 bg-card rounded-lg border">
            <div class="flex flex-wrap gap-4">
                <BbButton Variant="ButtonVariant.Default">Default</BbButton>
                <BbButton Variant="ButtonVariant.Destructive">Destructive</BbButton>
                <BbButton Variant="ButtonVariant.Outline">Outline</BbButton>
                <BbButton Variant="ButtonVariant.Secondary">Secondary</BbButton>
                <BbButton Variant="ButtonVariant.Ghost">Ghost</BbButton>
                <BbButton Variant="ButtonVariant.Link">Link</BbButton>
            </div>
        </div>
        <CodeBlock Source="Components/Button/dark-mode.txt" />
    </div>

    <!-- Accessibility Notes -->
    <AccessibilityList>
        <AriaAttributes>
            <AccessibilityItem>
                Disabled buttons are not focusable (tabindex="-1")
            </AccessibilityItem>
            <AccessibilityItem>
                ARIA attributes set correctly (aria-label, aria-disabled)
            </AccessibilityItem>
            <AccessibilityItem>
                Focus ring appears on keyboard focus (focus-visible:ring-2)
            </AccessibilityItem>
            <AccessibilityItem>
                Color contrast designed for readability
            </AccessibilityItem>
            <AccessibilityItem>
                Semantic HTML button element with proper role
            </AccessibilityItem>
            <AccessibilityItem>
                Renders as &lt;a&gt; when Href is provided, preserving link semantics for navigation
            </AccessibilityItem>
            <AccessibilityItem>
                Disabled links remove href, set aria-disabled, and prevent focus
            </AccessibilityItem>
            <AccessibilityItem>
                Automatically adds rel="noopener noreferrer" for target="_blank" links
            </AccessibilityItem>
            <AccessibilityItem>
                Screen readers announce button text and state correctly
            </AccessibilityItem>
        </AriaAttributes>
        <KeyboardNavigation>
            <KeyboardShortcutItem Description="Focus buttons in sequence">
                <BbKbd>Tab</BbKbd>
            </KeyboardShortcutItem>
            <KeyboardShortcutItem Description="Activate focused button">
                <BbKbd>Enter</BbKbd>
            </KeyboardShortcutItem>
            <KeyboardShortcutItem Description="Activate focused button">
                <BbKbd>Space</BbKbd>
            </KeyboardShortcutItem>
        </KeyboardNavigation>
    </AccessibilityList>

</div>

@code {
    private string clickMessage = "";
    private int counter = 0;
    private bool isRTL = false;

    private Task HandleClick(MouseEventArgs e)
    {
        clickMessage = $"Button clicked at {DateTime.Now:HH:mm:ss}";
        return Task.CompletedTask;
    }

    private Task IncrementCounter(MouseEventArgs e)
    {
        counter++;
        return Task.CompletedTask;
    }

    private Task ResetCounter(MouseEventArgs e)
    {
        counter = 0;
        return Task.CompletedTask;
    }

    private void ToggleRTL()
    {
        isRTL = !isRTL;
    }

    private bool _isLoading;

    private async Task SimulateLoading(MouseEventArgs e)
    {
        _isLoading = true;
        StateHasChanged();
        await Task.Delay(2000);
        _isLoading = false;
    }
}
